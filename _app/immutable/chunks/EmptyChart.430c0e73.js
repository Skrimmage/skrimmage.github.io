import{S as Q,i as P,s as j,e as p,t as w,a as z,d as h,g as b,j as E,f as d,c as L,k as m,m as k,n as _,o as D,X as ee,aa as te,b as $,A as G,B as y,C as H,z as v,a6 as re,u as ne,v as T,D as N,E as A,F as B,G as x,H as q,I as C,J as F,T as I}from"./index.fa6138d3.js";import{f as oe}from"./index.a5cc338a.js";import{Q as se}from"./index.9b2907d9.js";import"./VennDiagram.svelte_svelte_type_style_lang.679ce801.js";function le(o){let r,n,e,t,s,i;return{c(){r=p("div"),n=p("span"),e=w("Loading..."),t=z(),s=p("div"),this.h()},l(a){r=h(a,"DIV",{class:!0});var f=b(r);n=h(f,"SPAN",{class:!0});var l=b(n);e=E(l,"Loading..."),l.forEach(d),t=L(f),s=h(f,"DIV",{class:!0}),b(s).forEach(d),f.forEach(d),this.h()},h(){m(n,"class","sr-only"),m(s,"class","h-full w-full bg-gray-200 rounded-md dark:bg-gray-400"),m(r,"class","animate-pulse h-full w-full my-2")},m(a,f){k(a,r,f),_(r,n),_(n,e),_(r,t),_(r,s)},p:D,i(a){a&&(i||ee(()=>{i=te(r,oe,{}),i.start()}))},o:D,d(a){a&&d(r)}}}class ae extends Q{constructor(r){super(),P(this,r,null,le,j,{})}}function Z(o){return!o||!o[0]||!o.length}const ie=o=>({loaded:o&2}),J=o=>({loaded:o[1]}),fe=o=>({loaded:o&1}),O=o=>({loaded:o[0]}),ce=o=>({loaded:o&1}),W=o=>({loaded:o[0]}),ue=o=>({loaded:o&1}),X=o=>({loaded:o[0]}),de=o=>({loaded:o&1}),K=o=>({loaded:o[0]}),_e=o=>({loaded:o&1}),U=o=>({loaded:o[0]}),me=o=>({loaded:o&1}),Y=o=>({loaded:o[0]});function pe(o){let r;const n=o[5].default,e=T(n,o,o[4],J);return{c(){e&&e.c()},l(t){e&&e.l(t)},m(t,s){e&&e.m(t,s),r=!0},p(t,s){e&&e.p&&(!r||s&18)&&N(e,n,t,t[4],r?B(n,t[4],s,ie):A(t[4]),J)},i(t){r||(v(e,t),r=!0)},o(t){y(e,t),r=!1},d(t){e&&e.d(t)}}}function he(o){let r;const n=o[5].empty,e=T(n,o,o[4],O);return{c(){e&&e.c()},l(t){e&&e.l(t)},m(t,s){e&&e.m(t,s),r=!0},p(t,s){e&&e.p&&(!r||s&17)&&N(e,n,t,t[4],r?B(n,t[4],s,fe):A(t[4]),O)},i(t){r||(v(e,t),r=!0)},o(t){y(e,t),r=!1},d(t){e&&e.d(t)}}}function be(o){let r;const n=o[5].error,e=T(n,o,o[4],W);return{c(){e&&e.c()},l(t){e&&e.l(t)},m(t,s){e&&e.m(t,s),r=!0},p(t,s){e&&e.p&&(!r||s&17)&&N(e,n,t,t[4],r?B(n,t[4],s,ce):A(t[4]),W)},i(t){r||(v(e,t),r=!0)},o(t){y(e,t),r=!1},d(t){e&&e.d(t)}}}function ge(o){let r;const n=o[5].skeleton,e=T(n,o,o[4],X),t=e||ke();return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,i){t&&t.m(s,i),r=!0},p(s,i){e&&e.p&&(!r||i&17)&&N(e,n,s,s[4],r?B(n,s[4],i,ue):A(s[4]),X)},i(s){r||(v(t,s),r=!0)},o(s){y(t,s),r=!1},d(s){t&&t.d(s)}}}function ye(o){let r,n,e,t,s;const i=[Ee,we],a=[];function f(l,c){var u;return c&5&&(r=null),r==null&&(r=!!(!((u=l[0])!=null&&u.__isQueryStore)&&Z(l[0])&&l[2].empty)),r?0:1}return n=f(o,-1),e=a[n]=i[n](o),{c(){e.c(),t=$()},l(l){e.l(l),t=$()},m(l,c){a[n].m(l,c),k(l,t,c),s=!0},p(l,c){let u=n;n=f(l,c),n===u?a[n].p(l,c):(G(),y(a[u],1,1,()=>{a[u]=null}),H(),e=a[n],e?e.p(l,c):(e=a[n]=i[n](l),e.c()),v(e,1),e.m(t.parentNode,t))},i(l){s||(v(e),s=!0)},o(l){y(e),s=!1},d(l){a[n].d(l),l&&d(t)}}}function ve(o){let r;const n=o[5].default,e=T(n,o,o[4],Y);return{c(){e&&e.c()},l(t){e&&e.l(t)},m(t,s){e&&e.m(t,s),r=!0},p(t,s){e&&e.p&&(!r||s&17)&&N(e,n,t,t[4],r?B(n,t[4],s,me):A(t[4]),Y)},i(t){r||(v(e,t),r=!0)},o(t){y(e,t),r=!1},d(t){e&&e.d(t)}}}function ke(o){let r,n,e;return n=new ae({}),{c(){r=p("div"),x(n.$$.fragment),this.h()},l(t){r=h(t,"DIV",{class:!0});var s=b(r);q(n.$$.fragment,s),s.forEach(d),this.h()},h(){m(r,"class","w-full h-64")},m(t,s){k(t,r,s),C(n,r,null),e=!0},p:D,i(t){e||(v(n.$$.fragment,t),e=!0)},o(t){y(n.$$.fragment,t),e=!1},d(t){t&&d(r),F(n)}}}function we(o){let r;const n=o[5].default,e=T(n,o,o[4],K);return{c(){e&&e.c()},l(t){e&&e.l(t)},m(t,s){e&&e.m(t,s),r=!0},p(t,s){e&&e.p&&(!r||s&17)&&N(e,n,t,t[4],r?B(n,t[4],s,de):A(t[4]),K)},i(t){r||(v(e,t),r=!0)},o(t){y(e,t),r=!1},d(t){e&&e.d(t)}}}function Ee(o){let r;const n=o[5].empty,e=T(n,o,o[4],U);return{c(){e&&e.c()},l(t){e&&e.l(t)},m(t,s){e&&e.m(t,s),r=!0},p(t,s){e&&e.p&&(!r||s&17)&&N(e,n,t,t[4],r?B(n,t[4],s,_e):A(t[4]),U)},i(t){r||(v(e,t),r=!0)},o(t){y(e,t),r=!1},d(t){e&&e.d(t)}}}function Ve(o){let r,n,e,t,s;const i=[ve,ye,ge,be,he,pe],a=[];function f(l,c){var u,g;return c&6&&(r=null),l[0]?(u=l[0])!=null&&u.__isQueryStore?!l[1]||!((g=l[1])!=null&&g.loaded)&&!l[1].error?2:l[1].error&&l[2].error?3:(r==null&&(r=!!(Z(l[1])&&!l[1].error&&l[2].empty)),r?4:5):1:0}return n=f(o,-1),e=a[n]=i[n](o),{c(){e.c(),t=$()},l(l){e.l(l),t=$()},m(l,c){a[n].m(l,c),k(l,t,c),s=!0},p(l,[c]){let u=n;n=f(l,c),n===u?a[n].p(l,c):(G(),y(a[u],1,1,()=>{a[u]=null}),H(),e=a[n],e?e.p(l,c):(e=a[n]=i[n](l),e.c()),v(e,1),e.m(t.parentNode,t))},i(l){s||(v(e),s=!0)},o(l){y(e),s=!1},d(l){a[n].d(l),l&&d(t)}}}function De(o,r,n){let{$$slots:e={},$$scope:t}=r;const s=re(e);let{data:i}=r,a=()=>{},f;return ne(a),o.$$set=l=>{"data"in l&&n(0,i=l.data),"$$scope"in l&&n(4,t=l.$$scope)},o.$$.update=()=>{o.$$.dirty&9&&i!=null&&i.__isQueryStore&&(i.fetch(),a(),n(3,a=i.subscribe(l=>{n(1,f=l)})))},[i,f,s,a,t,e]}class Ke extends Q{constructor(r){super(),P(this,r,De,Ve,j,{data:0})}}function Se(o){let r,n,e;return{c(){r=p("br"),n=p("a"),e=w("View environment variables →"),this.h()},l(t){r=h(t,"BR",{}),n=h(t,"A",{class:!0,href:!0});var s=b(n);e=E(s,"View environment variables →"),s.forEach(d),this.h()},h(){m(n,"class","credentials-link svelte-1no0yro"),m(n,"href","https://docs.evidence.dev/cli/#environment-variables")},m(t,s){k(t,r,s),k(t,n,s),_(n,e)},d(t){t&&d(r),t&&d(n)}}}function $e(o){let r,n,e,t,s,i,a,f;function l(g,V){if(g[0]===Ie)return Se}let c=l(o),u=c&&c(o);return{c(){r=p("div"),n=p("div"),e=p("div"),t=w(o[1]),s=z(),i=p("div"),a=w(o[0]),f=z(),u&&u.c(),this.h()},l(g){r=h(g,"DIV",{width:!0,class:!0});var V=b(r);n=h(V,"DIV",{class:!0});var S=b(n);e=h(S,"DIV",{class:!0});var M=b(e);t=E(M,o[1]),M.forEach(d),s=L(S),i=h(S,"DIV",{class:!0});var R=b(i);a=E(R,o[0]),f=L(R),u&&u.l(R),R.forEach(d),S.forEach(d),V.forEach(d),this.h()},h(){m(e,"class","font-bold text-center text-lg"),m(i,"class","text-center [word-wrap:break-work] text-xs"),m(n,"class","m-auto w-full"),m(r,"width","100%"),m(r,"class","grid grid-rows-auto box-content grid-cols-1 justify-center bg-red-50 text-grey-700 font-ui font-normal rounded border border-red-200 min-h-[150px] py-5 px-8 my-5 print:break-inside-avoid")},m(g,V){k(g,r,V),_(r,n),_(n,e),_(e,t),_(n,s),_(n,i),_(i,a),_(i,f),u&&u.m(i,null)},p(g,[V]){V&2&&I(t,g[1]),V&1&&I(a,g[0]),c!==(c=l(g))&&(u&&u.d(1),u=c&&c(g),u&&(u.c(),u.m(i,null)))},i:D,o:D,d(g){g&&d(r),u&&u.d()}}}const Ie="SQL Error: Missing database connection; set the EVIDENCE_DATABASE environment variable.";function Te(o,r,n){let{error:e}=r,{chartType:t}=r;return o.$$set=s=>{"error"in s&&n(0,e=s.error),"chartType"in s&&n(1,t=s.chartType)},[e,t]}class Ne extends Q{constructor(r){super(),P(this,r,Te,$e,j,{error:0,chartType:1})}}function Ue(o,r,n){var s,i,a,f,l;let e=[];if(o===void 0)throw Error("No data provided");if(typeof o!="object")throw Error("'"+o+"' is not a recognized query result. Data should be provided in the format: data = {"+o.replace("data.","")+"}");if(o[0]===void 0||o.length===0)throw Error("Dataset is empty: query ran successfully, but no data was returned from the database");if(((i=(s=o[0])==null?void 0:s.error_object)==null?void 0:i.error)!=null)throw Error("SQL Error: "+((l=(f=(a=o[0])==null?void 0:a.error_object)==null?void 0:f.error)==null?void 0:l.message));if(r!=null){if(!(r instanceof Array))throw Error("reqCols must be passed in as an array");for(var t=0;t<r.length;t++)if(r[t]==null)throw Error("Missing required columns");if(o.__isQueryStore||o instanceof se)for(const u of o.columns)e.push(u.name);else for(const u of Object.keys(o[0]))e.push(u);let c;for(t=0;t<r.length;t++)if(c=r[t],!e.includes(c))throw Error("'"+c+"' is not a column in the dataset");if(n!=null&&n[0]!=null){for(t=0;t<n.length;t++)if(c=n[t],!e.includes(c))throw Error("'"+c+"' is not a column in the dataset")}}}function Ae(o){let r,n,e,t,s,i;return{c(){r=p("span"),n=p("span"),e=w("error"),t=z(),s=p("span"),i=w(o[0]),this.h()},l(a){r=h(a,"SPAN",{class:!0});var f=b(r);n=h(f,"SPAN",{class:!0});var l=b(n);e=E(l,"error"),l.forEach(d),t=L(f),s=h(f,"SPAN",{class:!0});var c=b(s);i=E(c,o[0]),c.forEach(d),f.forEach(d),this.h()},h(){m(n,"class","inline font-sans font-medium text-xs text-red-600"),m(s,"class","hidden text-white font-sans group-hover:inline absolute -top-1 left-[105%] text-sm z-10 px-2 py-1 bg-gray-800/80 leading-relaxed min-w-[150px] max-w-[400px] rounded-md"),m(r,"class","group inline-flex items-center relative cursor-help cursor-helpfont-sans px-1 border border-red-200 py-[1px] bg-red-50 rounded")},m(a,f){k(a,r,f),_(r,n),_(n,e),_(r,t),_(r,s),_(s,i)},p(a,[f]){f&1&&I(i,a[0])},i:D,o:D,d(a){a&&d(r)}}}function Be(o,r,n){let{error:e=void 0}=r;return o.$$set=t=>{"error"in t&&n(0,e=t.error)},[e]}class Qe extends Q{constructor(r){super(),P(this,r,Be,Ae,j,{error:0})}}function Pe(o){let r,n,e,t,s,i,a,f,l;return{c(){r=p("div"),n=p("div"),e=w("Big Value"),t=z(),s=p("div"),i=p("div"),a=w(`error
			`),f=p("span"),l=w(o[0]),this.h()},l(c){r=h(c,"DIV",{width:!0,class:!0});var u=b(r);n=h(u,"DIV",{class:!0});var g=b(n);e=E(g,"Big Value"),g.forEach(d),t=L(u),s=h(u,"DIV",{class:!0});var V=b(s);i=h(V,"DIV",{class:!0});var S=b(i);a=E(S,`error
			`),f=h(S,"SPAN",{class:!0});var M=b(f);l=E(M,o[0]),M.forEach(d),S.forEach(d),V.forEach(d),u.forEach(d),this.h()},h(){m(n,"class","font-bold text-center text-sm"),m(f,"class","hidden text-white font-sans group-hover:inline-block absolute top-[50%] left-[50%] text-sm z-10 px-2 py-1 bg-gray-800/80 leading-relaxed min-w-[150px] max-w-[400px] rounded-md z-50 overflow-visible"),m(i,"class","text-center [word-wrap:break-work] w-full font-medium text-xs text-red-600"),m(s,"class","m-auto w-[100px]"),m(r,"width","100%"),m(r,"class","inline-block group w-[100px] relative cursor-help cursor-helpfont-sans box-content grid-cols-1 justify-center bg-red-50 text-grey-700 font-ui font-normal rounded border border-red-200 h-[38px] mt-0.5 py-3 px-3 print:break-inside-avoid")},m(c,u){k(c,r,u),_(r,n),_(n,e),_(r,t),_(r,s),_(s,i),_(i,a),_(i,f),_(f,l)},p(c,[u]){u&1&&I(l,c[0])},i:D,o:D,d(c){c&&d(r)}}}function je(o,r,n){let{error:e}=r;return o.$$set=t=>{"error"in t&&n(0,e=t.error)},[e]}class Me extends Q{constructor(r){super(),P(this,r,je,Pe,j,{error:0})}}function ze(o){let r,n;return r=new Ne({props:{chartType:o[3],error:o[4]}}),{c(){x(r.$$.fragment)},l(e){q(r.$$.fragment,e)},m(e,t){C(r,e,t),n=!0},p(e,t){const s={};t&8&&(s.chartType=e[3]),t&16&&(s.error=e[4]),r.$set(s)},i(e){n||(v(r.$$.fragment,e),n=!0)},o(e){y(r.$$.fragment,e),n=!1},d(e){F(r,e)}}}function Le(o){let r,n;return r=new Me({props:{error:o[4]}}),{c(){x(r.$$.fragment)},l(e){q(r.$$.fragment,e)},m(e,t){C(r,e,t),n=!0},p(e,t){const s={};t&16&&(s.error=e[4]),r.$set(s)},i(e){n||(v(r.$$.fragment,e),n=!0)},o(e){y(r.$$.fragment,e),n=!1},d(e){F(r,e)}}}function Re(o){let r,n;return r=new Qe({props:{error:o[4]}}),{c(){x(r.$$.fragment)},l(e){q(r.$$.fragment,e)},m(e,t){C(r,e,t),n=!0},p(e,t){const s={};t&16&&(s.error=e[4]),r.$set(s)},i(e){n||(v(r.$$.fragment,e),n=!0)},o(e){y(r.$$.fragment,e),n=!1},d(e){F(r,e)}}}function xe(o){let r;function n(s,i){return s[3]==="Value"?Fe:s[3]==="Big Value"?Ce:qe}let e=n(o),t=e(o);return{c(){t.c(),r=$()},l(s){t.l(s),r=$()},m(s,i){t.m(s,i),k(s,r,i)},p(s,i){e===(e=n(s))&&t?t.p(s,i):(t.d(1),t=e(s),t&&(t.c(),t.m(r.parentNode,r)))},i:D,o:D,d(s){t.d(s),s&&d(r)}}}function qe(o){let r,n;return{c(){r=p("p"),n=w(o[2]),this.h()},l(e){r=h(e,"P",{class:!0});var t=b(r);n=E(t,o[2]),t.forEach(d),this.h()},h(){m(r,"class","text-xs text-gray-500 p-2 my-2 w-full border border-dashed rounded")},m(e,t){k(e,r,t),_(r,n)},p(e,t){t&4&&I(n,e[2])},d(e){e&&d(r)}}}function Ce(o){let r,n;return{c(){r=p("p"),n=w(o[2]),this.h()},l(e){r=h(e,"P",{class:!0});var t=b(r);n=E(t,o[2]),t.forEach(d),this.h()},h(){m(r,"class","text-xs text-gray-500 p-2 pt-[32px] my-0 text-center w-full align-middle h-[80px] border border-dashed rounded min-w-[120px]")},m(e,t){k(e,r,t),_(r,n)},p(e,t){t&4&&I(n,e[2])},d(e){e&&d(r)}}}function Fe(o){let r,n;return{c(){r=p("span"),n=w(o[2]),this.h()},l(e){r=h(e,"SPAN",{class:!0});var t=b(r);n=E(t,o[2]),t.forEach(d),this.h()},h(){m(r,"class","text-xs text-gray-500 p-2 my-2 w-full border border-dashed rounded")},m(e,t){k(e,r,t),_(r,n)},p(e,t){t&4&&I(n,e[2])},d(e){e&&d(r)}}}function Ge(o){let r,n,e,t,s;const i=[xe,Re,Le,ze],a=[];function f(l,c){return c&3&&(r=null),r==null&&(r=!!(["warn","pass"].includes(l[1])||!l[0])),r?0:l[3]==="Value"?1:l[3]==="Big Value"?2:3}return n=f(o,-1),e=a[n]=i[n](o),{c(){e.c(),t=$()},l(l){e.l(l),t=$()},m(l,c){a[n].m(l,c),k(l,t,c),s=!0},p(l,[c]){let u=n;n=f(l,c),n===u?a[n].p(l,c):(G(),y(a[u],1,1,()=>{a[u]=null}),H(),e=a[n],e?e.p(l,c):(e=a[n]=i[n](l),e.c()),v(e,1),e.m(t.parentNode,t))},i(l){s||(v(e),s=!0)},o(l){y(e),s=!1},d(l){a[n].d(l),l&&d(t)}}}function He(o,r,n){let{isInitial:e=!0}=r,{emptySet:t="error"}=r,{emptyMessage:s="No Records"}=r,{chartType:i="Component"}=r,a="Dataset is empty - query ran successfully, but no data was returned from the database";if(i==="Big Value"&&(a="Dataset is empty"),t==="error"&&e)throw console.error("\x1B[31m%s\x1B[0m",`Error in ${i}: ${a}`),Error(a);return t==="warn"&&e&&console.warn(`Warning in ${i}: Dataset is empty - query ran successfully, but no data was returned from the database`),o.$$set=f=>{"isInitial"in f&&n(0,e=f.isInitial),"emptySet"in f&&n(1,t=f.emptySet),"emptyMessage"in f&&n(2,s=f.emptyMessage),"chartType"in f&&n(3,i=f.chartType)},[e,t,s,i,a]}class Ye extends Q{constructor(r){super(),P(this,r,He,Ge,j,{isInitial:0,emptySet:1,emptyMessage:2,chartType:3})}}export{Me as B,Ye as E,Ke as Q,Qe as V,Ne as a,Ue as c};
