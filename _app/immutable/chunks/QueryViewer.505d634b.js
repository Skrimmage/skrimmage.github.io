import{S as ye,i as we,s as ke,f as he,r as D,t as U,P as ie,b as B,N as re,m as c,B as Ie,I as Le,c as ct,e as k,h as V,d as N,l as T,n as y,o as M,j as R,p as h,a8 as me,v as b,Y as te,a9 as dt,J as W,u as _t,g as ht,a as mt,Z as oe,_ as x,C as qe,D as Ue,w as le,K as ae,L as ue,U as A,M as fe,aa as tt,G as ge,O as ce,a4 as Ve,$ as lt,a5 as pt,x as Te,W as bt,a6 as vt,a7 as gt,y as Me}from"./index.bcaf0f15.js";import{f as je,b as yt,a as nt,s as ne,t as wt}from"./ecStat.0d6d34f7.js";import{c as kt,d as Tt}from"./inferColumnTypes.7073ead0.js";import{a as Ct,t as it,l as Oe,f as _e,C as rt,P as st}from"./Prismjs.a45efb00.js";import{w as Qe}from"./paths.de009d07.js";function Ne(n){let e,t,l,i,r,s,o,a,u,f;const m=n[7].default,_=ct(m,n,n[6],null),p=_||Dt();return{c(){e=k("div"),t=k("button"),l=k("span"),i=V(n[1]),r=N(),p&&p.c(),this.h()},l(g){e=T(g,"DIV",{});var d=y(e);t=T(d,"BUTTON",{type:!0,"aria-label":!0,class:!0});var S=y(t);l=T(S,"SPAN",{});var Q=y(l);i=M(Q,n[1]),Q.forEach(c),r=R(S),p&&p.l(S),S.forEach(c),d.forEach(c),this.h()},h(){h(t,"type","button"),h(t,"aria-label",n[1]),h(t,"class",s=me(n[4].class)+" svelte-p80uux")},m(g,d){D(g,e,d),b(e,t),b(t,l),b(l,i),b(t,r),p&&p.m(t,null),a=!0,u||(f=te(t,"click",function(){dt(n[3](n[0]))&&n[3](n[0]).apply(this,arguments)}),u=!0)},p(g,d){n=g,(!a||d&2)&&W(i,n[1]),_&&_.p&&(!a||d&64)&&_t(_,m,n,n[6],a?mt(m,n[6],d,null):ht(n[6]),null),(!a||d&2)&&h(t,"aria-label",n[1]),(!a||d&16&&s!==(s=me(n[4].class)+" svelte-p80uux"))&&h(t,"class",s)},i(g){a||(U(p,g),g&&oe(()=>{o||(o=x(e,je,{duration:200},!0)),o.run(1)}),a=!0)},o(g){B(p,g),g&&(o||(o=x(e,je,{duration:200},!1)),o.run(0)),a=!1},d(g){g&&c(e),p&&p.d(g),g&&o&&o.end(),u=!1,f()}}}function Dt(n){let e,t;return{c(){e=qe("svg"),t=qe("path"),this.h()},l(l){e=Ue(l,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0});var i=y(e);t=Ue(i,"path",{d:!0}),y(t).forEach(c),i.forEach(c),this.h()},h(){h(t,"d","M3 15v4c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2v-4M17 9l-5 5-5-5M12 12.8V2.5"),h(e,"width","12"),h(e,"height","12"),h(e,"viewBox","0 0 24 24"),h(e,"fill","none"),h(e,"stroke-width","2"),h(e,"stroke-linecap","round"),h(e,"stroke-linejoin","round")},m(l,i){D(l,e,i),b(e,t)},p:le,d(l){l&&c(e)}}}function Et(n){let e,t,l=n[2]&&Ne(n);return{c(){l&&l.c(),e=he()},l(i){l&&l.l(i),e=he()},m(i,r){l&&l.m(i,r),D(i,e,r),t=!0},p(i,[r]){i[2]?l?(l.p(i,r),r&4&&U(l,1)):(l=Ne(i),l.c(),U(l,1),l.m(e.parentNode,e)):l&&(ie(),B(l,1,1,()=>{l=null}),re())},i(i){t||(U(l),t=!0)},o(i){B(l),t=!1},d(i){l&&l.d(i),i&&c(e)}}}function St(n,e,t){let{$$slots:l={},$$scope:i}=e,{data:r}=e,{queryID:s}=e,{text:o="Download"}=e,{display:a}=e,{downloadData:u=f=>{const m={fieldSeparator:",",quoteStrings:'"',decimalSeparator:".",showLabels:!0,showTitle:!1,filename:s??"evidence_download",useTextFile:!1,useBom:!0,useKeysAsHeaders:!0},_=JSON.parse(JSON.stringify(f));new yt.ExportToCsv(m).generateCsv(_)}}=e;return n.$$set=f=>{t(4,e=Ie(Ie({},e),Le(f))),"data"in f&&t(0,r=f.data),"queryID"in f&&t(5,s=f.queryID),"text"in f&&t(1,o=f.text),"display"in f&&t(2,a=f.display),"downloadData"in f&&t(3,u=f.downloadData),"$$scope"in f&&t(6,i=f.$$scope)},e=Le(e),[r,o,a,u,e,s,i,l]}class It extends ye{constructor(e){super(),we(this,e,St,Et,ke,{data:0,queryID:5,text:1,display:2,downloadData:3})}}function Lt(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}function*qt(n,e){if(e===void 0)for(let t of n)t!=null&&(t=+t)>=t&&(yield t);else{let t=-1;for(let l of n)(l=e(l,++t,n))!=null&&(l=+l)>=l&&(yield l)}}function Ce(n,e){let t;if(e===void 0)for(const l of n)l!=null&&(t<l||t===void 0&&l>=l)&&(t=l);else{let l=-1;for(let i of n)(i=e(i,++l,n))!=null&&(t<i||t===void 0&&i>=i)&&(t=i)}return t}function De(n,e){let t;if(e===void 0)for(const l of n)l!=null&&(t>l||t===void 0&&l>=l)&&(t=l);else{let l=-1;for(let i of n)(i=e(i,++l,n))!=null&&(t>i||t===void 0&&i>=i)&&(t=i)}return t}function ot(n,e,t=0,l=n.length-1,i=Lt){for(;l>t;){if(l-t>600){const a=l-t+1,u=e-t+1,f=Math.log(a),m=.5*Math.exp(2*f/3),_=.5*Math.sqrt(f*m*(a-m)/a)*(u-a/2<0?-1:1),p=Math.max(t,Math.floor(e-u*m/a+_)),g=Math.min(l,Math.floor(e+(a-u)*m/a+_));ot(n,e,p,g,i)}const r=n[e];let s=t,o=l;for(ve(n,t,e),i(n[l],r)>0&&ve(n,t,l);s<o;){for(ve(n,s,o),++s,--o;i(n[s],r)<0;)++s;for(;i(n[o],r)>0;)--o}i(n[t],r)===0?ve(n,t,o):(++o,ve(n,o,l)),o<=e&&(t=o+1),e<=o&&(l=o-1)}return n}function ve(n,e,t){const l=n[e];n[e]=n[t],n[t]=l}function Ut(n,e,t){if(n=Float64Array.from(qt(n,t)),!!(l=n.length)){if((e=+e)<=0||l<2)return De(n);if(e>=1)return Ce(n);var l,i=(l-1)*e,r=Math.floor(i),s=Ce(ot(n,r).subarray(0,r+1)),o=De(n.subarray(r+1));return s+(o-s)*(i-r)}}function Vt(n,e){return Ut(n,.5,e)}function at(n,e){return l=>{e=e??{};const i={},r=Object.keys(n);for(const s of r)i[s]=n[s](l);if(e.rest&&l.length){const s=Object.keys(l[0]);for(const o of s)r.includes(o)||(i[o]=e.rest(o)(l))}return[i]}}function ut(n){const e=typeof n=="function"?n:t=>t[n];return t=>De(t,e)}function ft(n){const e=typeof n=="function"?n:t=>t[n];return t=>Ce(t,e)}function Mt(n){const e=typeof n=="function"?n:t=>t[n];return t=>Vt(t,e)}function Re(n,e){let t=Ct(n,e),l=["id","gdp"],i=["of","the","and","in","on"];function r(s){return s.replace(/\S*/g,function(o){return!l.includes(o)&&!i.includes(o)?o.charAt(0).toUpperCase()+o.substr(1).toLowerCase():l.includes(o)?o.toUpperCase():o.toLowerCase()})}return t=r(t.replace(/_/g," ")),t}function Be(n,e){let t;return n?(Array.isArray(n)&&n.length>0?t=n[0]:t=n,t&&t._evidenceColumnTypes?t._evidenceColumnTypes.find(i=>{var r;return((r=i.name)==null?void 0:r.toLowerCase())===(e==null?void 0:e.toLowerCase())}):kt(n).find(i=>{var r;return((r=i.name)==null?void 0:r.toLowerCase())===(e==null?void 0:e.toLowerCase())})):null}function Ae(n,e){let t,l=it(n,at({min:ut(e),max:ft(e),median:Mt(e)}))[0],{maxDecimals:i,unitType:r}=jt(n.map(s=>s[e]));return t={min:l.min,max:l.max,median:l.median,maxDecimals:i,unitType:r},t}function Fe(n,e){var t=it(n,at({min:ut(e),max:ft(e)}));let l=t[0].min,i=t[0].max;return[l,i]}function jt(n){var a;let e=0,t=0,l=0,i=0,r=0,s=0,o=0;if(n==null||n.length===0)return{maxDecimals:0,unitType:"unknown"};{for(let m=0;m<n.length;m++){let _=n[m];switch(typeof _){case"undefined":e++;break;case"null":t++;break;case"number":{i++;let p=(a=_.toString().split(".")[1])==null?void 0:a.length;p&&p>o&&(o=p);break}case"string":l++;break;case"object":_ instanceof Date?r++:_===null?t++:s++;break;case"date":r++;break}}let u,f=e+t;return i+f===n.length?u="number":l+f===n.length?u="string":r+f===n.length?u="date":s+f===n.length?u="object":u="unknown",{maxDecimals:o,unitType:u}}}function Ot(n,e="object"){var t,l,i,r;let s,o=[];var a;if(e==="object")for(const[u]of Object.entries(n[0])){t=u,i=Be(n,t),l=i.evidenceType,s=Ae(n,t),r=Oe(u,i,s),a=Fe(n,t);let f={[t]:{title:Re(t,r),type:l,evidenceColumnType:i,format:r,columnUnitSummary:s,extentsLegacy:a}};o={...o,...f}}else for(const[u]of Object.entries(n[0]))t=u,i=Be(n,t),l=i.evidenceType,s=Ae(n,t),r=Oe(u,i,s),a=Fe(n,t),o.push({id:t,title:Re(t,r),type:l,evidenceColumnType:i,format:r,columnUnitSummary:s,extentsLegacy:a});return o}function Pe(n,e,t){const l=n.slice();return l[12]=e[t],l[14]=t,l}function We(n,e,t){const l=n.slice();return l[15]=e[t],l[17]=t,l}function Ye(n,e,t){const l=n.slice();return l[18]=e[t],l}function ze(n,e,t){const l=n.slice();return l[18]=e[t],l}function He(n){let e,t=n[18].id+"",l,i,r,s;return{c(){e=k("th"),l=V(t),this.h()},l(o){e=T(o,"TH",{class:!0,style:!0,evidencetype:!0,evidencetypefidelity:!0});var a=y(e);l=M(a,t),a.forEach(c),this.h()},h(){var o,a;h(e,"class",i=me(n[18].type)+" svelte-f0rlbw"),A(e,"width",n[6]+"%"),h(e,"evidencetype",r=((o=n[18].evidenceColumnType)==null?void 0:o.evidenceType)||"unavailable"),h(e,"evidencetypefidelity",s=((a=n[18].evidenceColumnType)==null?void 0:a.typeFidelity)||"unavailable")},m(o,a){D(o,e,a),b(e,l)},p(o,a){var u,f;a&8&&t!==(t=o[18].id+"")&&W(l,t),a&8&&i!==(i=me(o[18].type)+" svelte-f0rlbw")&&h(e,"class",i),a&64&&A(e,"width",o[6]+"%"),a&8&&r!==(r=((u=o[18].evidenceColumnType)==null?void 0:u.evidenceType)||"unavailable")&&h(e,"evidencetype",r),a&8&&s!==(s=((f=o[18].evidenceColumnType)==null?void 0:f.typeFidelity)||"unavailable")&&h(e,"evidencetypefidelity",s)},d(o){o&&c(e)}}}function Ke(n){let e,t=n[18].type+"",l,i,r,s;return{c(){e=k("th"),l=V(t),this.h()},l(o){e=T(o,"TH",{class:!0,style:!0,evidencetype:!0,evidencetypefidelity:!0});var a=y(e);l=M(a,t),a.forEach(c),this.h()},h(){var o,a;h(e,"class",i=n[18].type+" type-indicator svelte-f0rlbw"),A(e,"width",n[6]+"%"),h(e,"evidencetype",r=((o=n[18].evidenceColumnType)==null?void 0:o.evidenceType)||"unavailable"),h(e,"evidencetypefidelity",s=((a=n[18].evidenceColumnType)==null?void 0:a.typeFidelity)||"unavailable")},m(o,a){D(o,e,a),b(e,l)},p(o,a){var u,f;a&8&&t!==(t=o[18].type+"")&&W(l,t),a&8&&i!==(i=o[18].type+" type-indicator svelte-f0rlbw")&&h(e,"class",i),a&64&&A(e,"width",o[6]+"%"),a&8&&r!==(r=((u=o[18].evidenceColumnType)==null?void 0:u.evidenceType)||"unavailable")&&h(e,"evidencetype",r),a&8&&s!==(s=((f=o[18].evidenceColumnType)==null?void 0:f.typeFidelity)||"unavailable")&&h(e,"evidencetypefidelity",s)},d(o){o&&c(e)}}}function Qt(n){let e=(n[2]+n[14]+1).toLocaleString()+"",t;return{c(){t=V(e)},l(l){t=M(l,e)},m(l,i){D(l,t,i)},p(l,i){i&4&&e!==(e=(l[2]+l[14]+1).toLocaleString()+"")&&W(t,e)},d(l){l&&c(t)}}}function Nt(n){let e=(n[2]+n[14]+1).toLocaleString()+"",t;return{c(){t=V(e)},l(l){t=M(l,e)},m(l,i){D(l,t,i)},p(l,i){i&4&&e!==(e=(l[2]+l[14]+1).toLocaleString()+"")&&W(t,e)},d(l){l&&c(t)}}}function Rt(n){let e,t=(n[15]||"Ø")+"",l;return{c(){e=k("td"),l=V(t),this.h()},l(i){e=T(i,"TD",{class:!0,style:!0});var r=y(e);l=M(r,t),r.forEach(c),this.h()},h(){h(e,"class","other svelte-f0rlbw"),A(e,"width",n[6]+"%")},m(i,r){D(i,e,r),b(e,l)},p(i,r){r&32&&t!==(t=(i[15]||"Ø")+"")&&W(l,t),r&64&&A(e,"width",i[6]+"%")},d(i){i&&c(e)}}}function Bt(n){let e,t,l=(n[15]??"Ø")+"",i,r;return{c(){e=k("td"),t=k("div"),i=V(l),this.h()},l(s){e=T(s,"TD",{class:!0,style:!0,title:!0});var o=y(e);t=T(o,"DIV",{class:!0});var a=y(t);i=M(a,l),a.forEach(c),o.forEach(c),this.h()},h(){h(t,"class","svelte-f0rlbw"),h(e,"class","boolean svelte-f0rlbw"),A(e,"width",n[6]+"%"),h(e,"title",r=n[15])},m(s,o){D(s,e,o),b(e,t),b(t,i)},p(s,o){o&32&&l!==(l=(s[15]??"Ø")+"")&&W(i,l),o&64&&A(e,"width",s[6]+"%"),o&32&&r!==(r=s[15])&&h(e,"title",r)},d(s){s&&c(e)}}}function At(n){let e,t,l=(n[15]||"Ø")+"",i,r;return{c(){e=k("td"),t=k("div"),i=V(l),this.h()},l(s){e=T(s,"TD",{class:!0,style:!0,title:!0});var o=y(e);t=T(o,"DIV",{class:!0});var a=y(t);i=M(a,l),a.forEach(c),o.forEach(c),this.h()},h(){h(t,"class","svelte-f0rlbw"),h(e,"class","string svelte-f0rlbw"),A(e,"width",n[6]+"%"),h(e,"title",r=n[15])},m(s,o){D(s,e,o),b(e,t),b(t,i)},p(s,o){o&32&&l!==(l=(s[15]||"Ø")+"")&&W(i,l),o&64&&A(e,"width",s[6]+"%"),o&32&&r!==(r=s[15])&&h(e,"title",r)},d(s){s&&c(e)}}}function Ft(n){let e,t,l=_e(n[15],n[3][n[17]].format,n[3][n[17]].columnUnitSummary)+"",i,r;return{c(){e=k("td"),t=k("div"),i=V(l),this.h()},l(s){e=T(s,"TD",{class:!0,style:!0,title:!0});var o=y(e);t=T(o,"DIV",{class:!0});var a=y(t);i=M(a,l),a.forEach(c),o.forEach(c),this.h()},h(){h(t,"class","svelte-f0rlbw"),h(e,"class","string svelte-f0rlbw"),A(e,"width",n[6]+"%"),h(e,"title",r=_e(n[15],n[3][n[17]].format,n[3][n[17]].columnUnitSummary))},m(s,o){D(s,e,o),b(e,t),b(t,i)},p(s,o){o&40&&l!==(l=_e(s[15],s[3][s[17]].format,s[3][s[17]].columnUnitSummary)+"")&&W(i,l),o&64&&A(e,"width",s[6]+"%"),o&40&&r!==(r=_e(s[15],s[3][s[17]].format,s[3][s[17]].columnUnitSummary))&&h(e,"title",r)},d(s){s&&c(e)}}}function Pt(n){let e,t=_e(n[15],n[3][n[17]].format,n[3][n[17]].columnUnitSummary)+"",l;return{c(){e=k("td"),l=V(t),this.h()},l(i){e=T(i,"TD",{class:!0,style:!0});var r=y(e);l=M(r,t),r.forEach(c),this.h()},h(){h(e,"class","number svelte-f0rlbw"),A(e,"width",n[6]+"%")},m(i,r){D(i,e,r),b(e,l)},p(i,r){r&40&&t!==(t=_e(i[15],i[3][i[17]].format,i[3][i[17]].columnUnitSummary)+"")&&W(l,t),r&64&&A(e,"width",i[6]+"%")},d(i){i&&c(e)}}}function Wt(n){let e,t="Ø",l,i;return{c(){e=k("td"),l=V(t),this.h()},l(r){e=T(r,"TD",{class:!0,style:!0});var s=y(e);l=M(s,t),s.forEach(c),this.h()},h(){h(e,"class",i="null "+n[3][n[17]].type+" svelte-f0rlbw"),A(e,"width",n[6]+"%")},m(r,s){D(r,e,s),b(e,l)},p(r,s){s&8&&i!==(i="null "+r[3][r[17]].type+" svelte-f0rlbw")&&h(e,"class",i),s&64&&A(e,"width",r[6]+"%")},d(r){r&&c(e)}}}function Je(n){let e;function t(r,s){return r[15]==null?Wt:r[3][r[17]].type==="number"?Pt:r[3][r[17]].type==="date"?Ft:r[3][r[17]].type==="string"?At:r[3][r[17]].type==="boolean"?Bt:Rt}let l=t(n),i=l(n);return{c(){i.c(),e=he()},l(r){i.l(r),e=he()},m(r,s){i.m(r,s),D(r,e,s)},p(r,s){l===(l=t(r))&&i?i.p(r,s):(i.d(1),i=l(r),i&&(i.c(),i.m(e.parentNode,e)))},d(r){i.d(r),r&&c(e)}}}function Ge(n){let e,t,l,i;function r(f,m){return f[14]===0?Nt:Qt}let o=r(n)(n),a=Object.values(n[12]),u=[];for(let f=0;f<a.length;f+=1)u[f]=Je(We(n,a,f));return{c(){e=k("tr"),t=k("td"),o.c(),l=N();for(let f=0;f<u.length;f+=1)u[f].c();i=N(),this.h()},l(f){e=T(f,"TR",{});var m=y(e);t=T(m,"TD",{class:!0,style:!0});var _=y(t);o.l(_),_.forEach(c),l=R(m);for(let p=0;p<u.length;p+=1)u[p].l(m);i=R(m),m.forEach(c),this.h()},h(){h(t,"class","index svelte-f0rlbw"),A(t,"width","10%")},m(f,m){D(f,e,m),b(e,t),o.m(t,null),b(e,l);for(let _=0;_<u.length;_+=1)u[_].m(e,null);b(e,i)},p(f,m){if(o.p(f,m),m&104){a=Object.values(f[12]);let _;for(_=0;_<a.length;_+=1){const p=We(f,a,_);u[_]?u[_].p(p,m):(u[_]=Je(p),u[_].c(),u[_].m(e,i))}for(;_<u.length;_+=1)u[_].d(1);u.length=a.length}},d(f){f&&c(e),o.d(),ge(u,f)}}}function Xe(n){let e,t,l,i,r=(n[2]+se).toLocaleString()+"",s,o,a=(n[4]+se).toLocaleString()+"",u,f,m;return{c(){e=k("div"),t=k("input"),l=N(),i=k("span"),s=V(r),o=V(" of "),u=V(a),this.h()},l(_){e=T(_,"DIV",{class:!0});var p=y(e);t=T(p,"INPUT",{type:!0,max:!0,step:!0,class:!0}),l=R(p),i=T(p,"SPAN",{class:!0});var g=y(i);s=M(g,r),o=M(g," of "),u=M(g,a),g.forEach(c),p.forEach(c),this.h()},h(){h(t,"type","range"),h(t,"max",n[4]),h(t,"step","1"),h(t,"class","slider svelte-f0rlbw"),h(i,"class","svelte-f0rlbw"),h(e,"class","pagination svelte-f0rlbw")},m(_,p){D(_,e,p),b(e,t),Ve(t,n[2]),b(e,l),b(e,i),b(i,s),b(i,o),b(i,u),f||(m=[te(t,"change",n[9]),te(t,"input",n[9]),te(t,"input",n[7])],f=!0)},p(_,p){p&16&&h(t,"max",_[4]),p&4&&Ve(t,_[2]),p&4&&r!==(r=(_[2]+se).toLocaleString()+"")&&W(s,r),p&16&&a!==(a=(_[4]+se).toLocaleString()+"")&&W(u,a)},d(_){_&&c(e),f=!1,lt(m)}}}function Yt(n){let e,t,l,i,r,s,o,a,u,f,m,_,p,g,d,S,Q,X,I,L,Z,E,G,q,C,O,Y=n[3],j=[];for(let v=0;v<Y.length;v+=1)j[v]=He(ze(n,Y,v));let ee=n[3],z=[];for(let v=0;v<ee.length;v+=1)z[v]=Ke(Ye(n,ee,v));let de=n[5],H=[];for(let v=0;v<de.length;v+=1)H[v]=Ge(Pe(n,de,v));let K=n[4]>0&&Xe(n);return E=new It({props:{class:"download-button",data:n[1],queryID:n[0],display:!0}}),{c(){e=k("div"),t=k("div"),l=k("table"),i=k("thead"),r=k("tr"),s=k("th"),o=N();for(let v=0;v<j.length;v+=1)j[v].c();a=N(),u=k("tr"),f=N(),m=k("tr"),_=k("th"),p=N();for(let v=0;v<z.length;v+=1)z[v].c();g=N(),d=k("tr"),S=N(),Q=k("tbody");for(let v=0;v<H.length;v+=1)H[v].c();I=N(),K&&K.c(),L=N(),Z=k("div"),ae(E.$$.fragment),this.h()},l(v){e=T(v,"DIV",{class:!0});var F=y(e);t=T(F,"DIV",{class:!0});var P=y(t);l=T(P,"TABLE",{class:!0});var w=y(l);i=T(w,"THEAD",{});var J=y(i);r=T(J,"TR",{});var pe=y(r);s=T(pe,"TH",{class:!0,style:!0}),y(s).forEach(c),o=R(pe);for(let $=0;$<j.length;$+=1)j[$].l(pe);a=R(pe),pe.forEach(c),u=T(J,"TR",{}),y(u).forEach(c),f=R(J),m=T(J,"TR",{class:!0});var be=y(m);_=T(be,"TH",{class:!0,style:!0}),y(_).forEach(c),p=R(be);for(let $=0;$<z.length;$+=1)z[$].l(be);g=R(be),be.forEach(c),d=T(J,"TR",{}),y(d).forEach(c),J.forEach(c),S=R(w),Q=T(w,"TBODY",{});var Ee=y(Q);for(let $=0;$<H.length;$+=1)H[$].l(Ee);Ee.forEach(c),w.forEach(c),P.forEach(c),I=R(F),K&&K.l(F),L=R(F),Z=T(F,"DIV",{class:!0});var Se=y(Z);ue(E.$$.fragment,Se),Se.forEach(c),F.forEach(c),this.h()},h(){h(s,"class","index svelte-f0rlbw"),A(s,"width","10%"),h(_,"class","index type-indicator svelte-f0rlbw"),A(_,"width","10%"),h(m,"class","type-indicator svelte-f0rlbw"),h(l,"class","svelte-f0rlbw"),h(t,"class","container svelte-f0rlbw"),h(Z,"class","footer svelte-f0rlbw"),h(e,"class","results-pane py-1 svelte-f0rlbw")},m(v,F){D(v,e,F),b(e,t),b(t,l),b(l,i),b(i,r),b(r,s),b(r,o);for(let P=0;P<j.length;P+=1)j[P].m(r,null);b(r,a),b(i,u),b(i,f),b(i,m),b(m,_),b(m,p);for(let P=0;P<z.length;P+=1)z[P].m(m,null);b(m,g),b(i,d),b(l,S),b(l,Q);for(let P=0;P<H.length;P+=1)H[P].m(Q,null);b(e,I),K&&K.m(e,null),b(e,L),b(e,Z),fe(E,Z,null),q=!0,C||(O=te(Q,"wheel",n[8]),C=!0)},p(v,[F]){if(F&72){Y=v[3];let w;for(w=0;w<Y.length;w+=1){const J=ze(v,Y,w);j[w]?j[w].p(J,F):(j[w]=He(J),j[w].c(),j[w].m(r,a))}for(;w<j.length;w+=1)j[w].d(1);j.length=Y.length}if(F&72){ee=v[3];let w;for(w=0;w<ee.length;w+=1){const J=Ye(v,ee,w);z[w]?z[w].p(J,F):(z[w]=Ke(J),z[w].c(),z[w].m(m,g))}for(;w<z.length;w+=1)z[w].d(1);z.length=ee.length}if(F&108){de=v[5];let w;for(w=0;w<de.length;w+=1){const J=Pe(v,de,w);H[w]?H[w].p(J,F):(H[w]=Ge(J),H[w].c(),H[w].m(Q,null))}for(;w<H.length;w+=1)H[w].d(1);H.length=de.length}v[4]>0?K?K.p(v,F):(K=Xe(v),K.c(),K.m(e,L)):K&&(K.d(1),K=null);const P={};F&2&&(P.data=v[1]),F&1&&(P.queryID=v[0]),E.$set(P)},i(v){q||(X||oe(()=>{X=tt(l,nt,{}),X.start()}),U(E.$$.fragment,v),v&&oe(()=>{G||(G=x(e,ne,{},!0)),G.run(1)}),q=!0)},o(v){B(E.$$.fragment,v),v&&(G||(G=x(e,ne,{},!1)),G.run(0)),q=!1},d(v){v&&c(e),ge(j,v),ge(z,v),ge(H,v),K&&K.d(),ce(E),v&&G&&G.end(),C=!1,O()}}}let se=5;function zt(n,e,t){let l,i,r,s,{queryID:o}=e,{data:a}=e,u=0,f;function m(){f=a.slice(u,u+se),t(5,s=f)}const _=wt(d=>{t(2,u=Math.min(Math.max(0,u+Math.floor(d.deltaY/Math.abs(d.deltaY))),r)),m()},60);function p(d){if(Math.abs(d.deltaX)>=Math.abs(d.deltaY))return;const S=d.deltaY<0&&u===0,Q=d.deltaY>0&&u===r;S||Q||(d.preventDefault(),_(d))}function g(){u=pt(this.value),t(2,u)}return n.$$set=d=>{"queryID"in d&&t(0,o=d.queryID),"data"in d&&t(1,a=d.data)},n.$$.update=()=>{n.$$.dirty&2&&t(3,l=Ot(a,"array")),n.$$.dirty&8&&t(6,i=90/(l.length+1)),n.$$.dirty&2&&t(4,r=Math.max(a.length-se,0)),n.$$.dirty&6&&t(5,s=a.slice(u,u+se))},[o,a,u,l,r,s,i,m,p,g]}class Ht extends ye{constructor(e){super(),we(this,e,zt,Yt,ke,{queryID:0,data:1})}}function Kt(n){let e,t,l,i,r,s,o;return{c(){e=k("button"),t=V("Compiled"),l=N(),i=k("button"),r=V("Written"),this.h()},l(a){e=T(a,"BUTTON",{class:!0});var u=y(e);t=M(u,"Compiled"),u.forEach(c),l=R(a),i=T(a,"BUTTON",{class:!0});var f=y(i);r=M(f,"Written"),f.forEach(c),this.h()},h(){h(e,"class","off svelte-1b8idd8"),h(i,"class","on svelte-1b8idd8")},m(a,u){D(a,e,u),b(e,t),D(a,l,u),D(a,i,u),b(i,r),s||(o=te(e,"click",n[1]),s=!0)},p:le,d(a){a&&c(e),a&&c(l),a&&c(i),s=!1,o()}}}function Jt(n){let e,t,l,i,r,s,o;return{c(){e=k("button"),t=V("Compiled"),l=N(),i=k("button"),r=V("Written"),this.h()},l(a){e=T(a,"BUTTON",{class:!0});var u=y(e);t=M(u,"Compiled"),u.forEach(c),l=R(a),i=T(a,"BUTTON",{class:!0});var f=y(i);r=M(f,"Written"),f.forEach(c),this.h()},h(){h(e,"class","on svelte-1b8idd8"),h(i,"class","off svelte-1b8idd8")},m(a,u){D(a,e,u),b(e,t),D(a,l,u),D(a,i,u),b(i,r),s||(o=te(i,"click",n[1]),s=!0)},p:le,d(a){a&&c(e),a&&c(l),a&&c(i),s=!1,o()}}}function Gt(n){let e,t,l;function i(o,a){return o[0]?Jt:Kt}let r=i(n),s=r(n);return{c(){e=k("div"),s.c(),this.h()},l(o){e=T(o,"DIV",{class:!0});var a=y(e);s.l(a),a.forEach(c),this.h()},h(){h(e,"class","toggle svelte-1b8idd8")},m(o,a){D(o,e,a),s.m(e,null),l=!0},p(o,[a]){r===(r=i(o))&&s?s.p(o,a):(s.d(1),s=r(o),s&&(s.c(),s.m(e,null)))},i(o){l||(o&&oe(()=>{t||(t=x(e,ne,{},!0)),t.run(1)}),l=!0)},o(o){o&&(t||(t=x(e,ne,{},!1)),t.run(0)),l=!1},d(o){o&&c(e),s.d(),o&&t&&t.end()}}}function Xt(n,e,t){let{showCompiled:l}=e;const i=function(){t(0,l=!l)};return n.$$set=r=>{"showCompiled"in r&&t(0,l=r.showCompiled)},[l,i]}class Zt extends ye{constructor(e){super(),we(this,e,Xt,Gt,ke,{showCompiled:0})}}function Ze(n){let e,t,l,i,r,s,o,a,u,f,m,_,p,g,d,S,Q,X;i=new rt({props:{toggled:n[10]}});let I=n[10]&&n[6]&&$e(n),L=n[10]&&xe(n);const Z=[ll,tl,el],E=[];function G(C,O){return C[2]?0:C[3]>0?1:2}m=G(n),_=E[m]=Z[m](n);let q=n[1].length>0&&!n[2]&&n[9]&&et(n);return{c(){e=k("div"),t=k("div"),l=k("button"),ae(i.$$.fragment),r=N(),s=V(n[0]),o=N(),I&&I.c(),a=N(),L&&L.c(),u=N(),f=k("button"),_.c(),g=N(),q&&q.c(),this.h()},l(C){e=T(C,"DIV",{class:!0});var O=y(e);t=T(O,"DIV",{class:!0});var Y=y(t);l=T(Y,"BUTTON",{type:!0,"aria-label":!0,class:!0});var j=y(l);ue(i.$$.fragment,j),r=R(j),s=M(j,n[0]),j.forEach(c),o=R(Y),I&&I.l(Y),a=R(Y),L&&L.l(Y),Y.forEach(c),u=R(O),f=T(O,"BUTTON",{type:!0,"aria-label":!0,class:!0});var ee=y(f);_.l(ee),ee.forEach(c),g=R(O),q&&q.l(O),O.forEach(c),this.h()},h(){h(l,"type","button"),h(l,"aria-label","show-sql"),h(l,"class","title svelte-18founi"),h(t,"class","container-a svelte-18founi"),h(f,"type","button"),h(f,"aria-label","view-query"),h(f,"class",p=me("status-bar"+(n[2]?" error":" success")+(n[9]?" open":" closed"))+" svelte-18founi"),h(e,"class","container svelte-18founi")},m(C,O){D(C,e,O),b(e,t),b(t,l),fe(i,l,null),b(l,r),b(l,s),b(t,o),I&&I.m(t,null),b(t,a),L&&L.m(t,null),b(e,u),b(e,f),E[m].m(f,null),b(e,g),q&&q.m(e,null),S=!0,Q||(X=[te(l,"click",n[13]),te(f,"click",n[15])],Q=!0)},p(C,O){const Y={};O&1024&&(Y.toggled=C[10]),i.$set(Y),(!S||O&1)&&W(s,C[0]),C[10]&&C[6]?I?(I.p(C,O),O&1088&&U(I,1)):(I=$e(C),I.c(),U(I,1),I.m(t,a)):I&&(ie(),B(I,1,1,()=>{I=null}),re()),C[10]?L?(L.p(C,O),O&1024&&U(L,1)):(L=xe(C),L.c(),U(L,1),L.m(t,null)):L&&(ie(),B(L,1,1,()=>{L=null}),re());let j=m;m=G(C),m===j?E[m].p(C,O):(ie(),B(E[j],1,1,()=>{E[j]=null}),re(),_=E[m],_?_.p(C,O):(_=E[m]=Z[m](C),_.c()),U(_,1),_.m(f,null)),(!S||O&516&&p!==(p=me("status-bar"+(C[2]?" error":" success")+(C[9]?" open":" closed"))+" svelte-18founi"))&&h(f,"class",p),C[1].length>0&&!C[2]&&C[9]?q?(q.p(C,O),O&518&&U(q,1)):(q=et(C),q.c(),U(q,1),q.m(e,null)):q&&(ie(),B(q,1,1,()=>{q=null}),re())},i(C){S||(U(i.$$.fragment,C),U(I),U(L),U(_),U(q),C&&oe(()=>{d||(d=x(e,ne,{},!0)),d.run(1)}),S=!0)},o(C){B(i.$$.fragment,C),B(I),B(L),B(_),B(q),C&&(d||(d=x(e,ne,{},!1)),d.run(0)),S=!1},d(C){C&&c(e),ce(i),I&&I.d(),L&&L.d(),E[m].d(),q&&q.d(),C&&d&&d.end(),Q=!1,lt(X)}}}function $e(n){let e,t,l;function i(s){n[18](s)}let r={};return n[7]!==void 0&&(r.showCompiled=n[7]),e=new Zt({props:r}),bt.push(()=>vt(e,"showCompiled",i,n[7])),{c(){ae(e.$$.fragment)},l(s){ue(e.$$.fragment,s)},m(s,o){fe(e,s,o),l=!0},p(s,o){const a={};!t&&o&128&&(t=!0,a.showCompiled=s[7],gt(()=>t=!1)),e.$set(a)},i(s){l||(U(e.$$.fragment,s),l=!0)},o(s){B(e.$$.fragment,s),l=!1},d(s){ce(e,s)}}}function xe(n){let e,t,l,i,r;const s=[xt,$t],o=[];function a(u,f){return u[7]?0:1}return t=a(n),l=o[t]=s[t](n),{c(){e=k("div"),l.c(),this.h()},l(u){e=T(u,"DIV",{class:!0});var f=y(e);l.l(f),f.forEach(c),this.h()},h(){h(e,"class","code-container svelte-18founi")},m(u,f){D(u,e,f),o[t].m(e,null),r=!0},p(u,f){let m=t;t=a(u),t===m?o[t].p(u,f):(ie(),B(o[m],1,1,()=>{o[m]=null}),re(),l=o[t],l?l.p(u,f):(l=o[t]=s[t](u),l.c()),U(l,1),l.m(e,null))},i(u){r||(U(l),u&&oe(()=>{i||(i=x(e,ne,{},!0)),i.run(1)}),r=!0)},o(u){B(l),u&&(i||(i=x(e,ne,{},!1)),i.run(0)),r=!1},d(u){u&&c(e),o[t].d(),u&&i&&i.end()}}}function $t(n){let e,t;return e=new st({props:{code:n[4]}}),{c(){ae(e.$$.fragment)},l(l){ue(e.$$.fragment,l)},m(l,i){fe(e,l,i),t=!0},p(l,i){const r={};i&16&&(r.code=l[4]),e.$set(r)},i(l){t||(U(e.$$.fragment,l),t=!0)},o(l){B(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function xt(n){let e,t;return e=new st({props:{code:n[5]}}),{c(){ae(e.$$.fragment)},l(l){ue(e.$$.fragment,l)},m(l,i){fe(e,l,i),t=!0},p(l,i){const r={};i&32&&(r.code=l[5]),e.$set(r)},i(l){t||(U(e.$$.fragment,l),t=!0)},o(l){B(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function el(n){let e;return{c(){e=V("ran successfully but no data was returned")},l(t){e=M(t,"ran successfully but no data was returned")},m(t,l){D(t,e,l)},p:le,i:le,o:le,d(t){t&&c(e)}}}function tl(n){let e,t,l=n[3].toLocaleString()+"",i,r,s=n[3]>1?"records":"record",o,a,u=n[8].toLocaleString()+"",f,m,_=n[8]>1?"properties":"property",p,g;return e=new rt({props:{toggled:n[9],color:"#3488e9"}}),{c(){ae(e.$$.fragment),t=N(),i=V(l),r=N(),o=V(s),a=V(" with "),f=V(u),m=N(),p=V(_)},l(d){ue(e.$$.fragment,d),t=R(d),i=M(d,l),r=R(d),o=M(d,s),a=M(d," with "),f=M(d,u),m=R(d),p=M(d,_)},m(d,S){fe(e,d,S),D(d,t,S),D(d,i,S),D(d,r,S),D(d,o,S),D(d,a,S),D(d,f,S),D(d,m,S),D(d,p,S),g=!0},p(d,S){const Q={};S&512&&(Q.toggled=d[9]),e.$set(Q),(!g||S&8)&&l!==(l=d[3].toLocaleString()+"")&&W(i,l),(!g||S&8)&&s!==(s=d[3]>1?"records":"record")&&W(o,s),(!g||S&256)&&u!==(u=d[8].toLocaleString()+"")&&W(f,u),(!g||S&256)&&_!==(_=d[8]>1?"properties":"property")&&W(p,_)},i(d){g||(U(e.$$.fragment,d),g=!0)},o(d){B(e.$$.fragment,d),g=!1},d(d){ce(e,d),d&&c(t),d&&c(i),d&&c(r),d&&c(o),d&&c(a),d&&c(f),d&&c(m),d&&c(p)}}}function ll(n){let e=n[2].message+"",t,l,i;function r(a,u){if(a[2].message==="Missing database connection; set the EVIDENCE_DATABASE environment variable.")return nl}let s=r(n),o=s&&s(n);return{c(){t=V(e),l=N(),o&&o.c(),i=he()},l(a){t=M(a,e),l=R(a),o&&o.l(a),i=he()},m(a,u){D(a,t,u),D(a,l,u),o&&o.m(a,u),D(a,i,u)},p(a,u){u&4&&e!==(e=a[2].message+"")&&W(t,e),s!==(s=r(a))&&(o&&o.d(1),o=s&&s(a),o&&(o.c(),o.m(i.parentNode,i)))},i:le,o:le,d(a){a&&c(t),a&&c(l),o&&o.d(a),a&&c(i)}}}function nl(n){let e,t;return{c(){e=k("a"),t=V("View environment variables →"),this.h()},l(l){e=T(l,"A",{class:!0,href:!0});var i=y(e);t=M(i,"View environment variables →"),i.forEach(c),this.h()},h(){h(e,"class","credentials-link svelte-18founi"),h(e,"href","https://docs.evidence.dev/cli/#environment-variables")},m(l,i){D(l,e,i),b(e,t)},d(l){l&&c(e)}}}function et(n){let e,t;return e=new Ht({props:{data:n[1],queryID:n[0]}}),{c(){ae(e.$$.fragment)},l(l){ue(e.$$.fragment,l)},m(l,i){fe(e,l,i),t=!0},p(l,i){const r={};i&2&&(r.data=l[1]),i&1&&(r.queryID=l[0]),e.$set(r)},i(l){t||(U(e.$$.fragment,l),t=!0)},o(l){B(e.$$.fragment,l),t=!1},d(l){ce(e,l)}}}function il(n){let e,t,l,i=n[11]&&Ze(n);return{c(){e=k("div"),i&&i.c(),this.h()},l(r){e=T(r,"DIV",{class:!0});var s=y(e);i&&i.l(s),s.forEach(c),this.h()},h(){h(e,"class","over-container svelte-18founi")},m(r,s){D(r,e,s),i&&i.m(e,null),l=!0},p(r,[s]){r[11]?i?(i.p(r,s),s&2048&&U(i,1)):(i=Ze(r),i.c(),U(i,1),i.m(e,null)):i&&(ie(),B(i,1,1,()=>{i=null}),re())},i(r){l||(U(i),r&&(t||oe(()=>{t=tt(e,nt,{}),t.start()})),l=!0)},o(r){B(i),l=!1},d(r){r&&c(e),i&&i.d()}}}function rl(n,e,t){let l,i,r;Te(n,Tt,E=>t(11,r=E));let{queryID:s}=e,{pageQueries:o}=e,{queryResult:a}=e,u=Qe(localStorage.getItem("showSQL_".concat(s))==="true"||!1);Te(n,u,E=>t(10,i=E)),u.subscribe(E=>localStorage.setItem("showSQL_".concat(s),E));const f=function(){Me(u,i=!i,i)};let m=Qe(localStorage.getItem("showResults_".concat(s))==="true"||!1);Te(n,m,E=>t(9,l=E)),m.subscribe(E=>localStorage.setItem("showResults_".concat(s),E));const _=function(){!X&&I>0&&Me(m,l=!l,l)};let p,g,d,S,Q=!0,X,I,L;function Z(E){Q=E,t(7,Q)}return n.$$set=E=>{"queryID"in E&&t(0,s=E.queryID),"pageQueries"in E&&t(16,o=E.pageQueries),"queryResult"in E&&t(1,a=E.queryResult)},n.$$.update=()=>{var E,G;n.$$.dirty&196623&&(t(17,p=o.filter(q=>q.id===s)),t(4,g=p[0].inputQueryString),t(5,d=p[0].compiledQueryString),t(6,S=p[0].compiled&&p[0].compileError===void 0),t(2,X=(G=(E=a[0])==null?void 0:E.error_object)==null?void 0:G.error),t(3,I=null),t(8,L=null),X||(t(3,I=a.length),I>0&&t(8,L=Object.keys(a[0]).length)))},[s,a,X,I,g,d,S,Q,L,l,i,r,u,f,m,_,o,p,Z]}class cl extends ye{constructor(e){super(),we(this,e,rl,il,ke,{queryID:0,pageQueries:16,queryResult:1})}}export{It as D,cl as Q,Ot as g};
