import{S as R,i as q,s as L,b as M,m as A,A as F,B as p,C as B,z as _,f as d,G as P,H as V,I as N,J as C,e as S,t as b,d as E,g as w,j as k,n as y,T as D,o as j,k as v,L as I,R as T,P as H,a9 as z,v as G,D as J,E as K,F as U}from"./index.fa6138d3.js";import{c as W,V as X,Q as Y,E as Z}from"./EmptyChart.cf766b61.js";import{g as x}from"./DownloadData.01864273.js";import{c as $,g as ee,f as O}from"./formatting.7c0d3cf7.js";import"./VennDiagram.svelte_svelte_type_style_lang.8347ccae.js";function te(s){let t,r;return t=new X({props:{error:s[1]}}),{c(){P(t.$$.fragment)},l(e){V(t.$$.fragment,e)},m(e,a){N(t,e,a),r=!0},p(e,a){const l={};a&2&&(l.error=e[1]),t.$set(l)},i(e){r||(_(t.$$.fragment,e),r=!0)},o(e){p(t.$$.fragment,e),r=!1},d(e){C(t,e)}}}function re(s){let t,r=O(s[3],s[2])+"",e;return{c(){t=S("span"),e=b(r)},l(a){t=E(a,"SPAN",{});var l=w(t);e=k(l,r),l.forEach(d)},m(a,l){A(a,t,l),y(t,e)},p(a,l){l&12&&r!==(r=O(a[3],a[2])+"")&&D(e,r)},i:j,o:j,d(a){a&&d(t)}}}function ae(s){let t,r,e,a,l,n;return{c(){t=S("span"),r=b("["),e=b(s[0]),a=b("]"),l=S("span"),n=b("Placeholder: no data currently referenced."),this.h()},l(f){t=E(f,"SPAN",{class:!0});var o=w(t);r=k(o,"["),e=k(o,s[0]),a=k(o,"]"),l=E(o,"SPAN",{class:!0});var c=w(l);n=k(c,"Placeholder: no data currently referenced."),c.forEach(d),o.forEach(d),this.h()},h(){v(l,"class","error-msg svelte-11norvs"),v(t,"class","placeholder svelte-11norvs")},m(f,o){A(f,t,o),y(t,r),y(t,e),y(t,a),y(t,l),y(l,n)},p(f,o){o&1&&D(e,f[0])},i:j,o:j,d(f){f&&d(t)}}}function le(s){let t,r,e,a;const l=[ae,re,te],n=[];function f(o,c){return o[0]?0:o[1]?2:1}return t=f(s),r=n[t]=l[t](s),{c(){r.c(),e=M()},l(o){r.l(o),e=M()},m(o,c){n[t].m(o,c),A(o,e,c),a=!0},p(o,[c]){let h=t;t=f(o),t===h?n[t].p(o,c):(F(),p(n[h],1,1,()=>{n[h]=null}),B(),r=n[t],r?r.p(o,c):(r=n[t]=l[t](o),r.c()),_(r,1),r.m(e.parentNode,e))},i(o){a||(_(r),a=!0)},o(o){p(r),a=!1},d(o){n[t].d(o),o&&d(e)}}}function ne(s,t,r){let{data:e=null}=t,{row:a=0}=t,{column:l=null}=t,{value:n=null}=t,{placeholder:f=null}=t,{fmt:o=void 0}=t,c,h,i,g;return s.$$set=u=>{"data"in u&&r(4,e=u.data),"row"in u&&r(6,a=u.row),"column"in u&&r(5,l=u.column),"value"in u&&r(7,n=u.value),"placeholder"in u&&r(0,f=u.placeholder),"fmt"in u&&r(8,o=u.fmt)},s.$$.update=()=>{if(s.$$.dirty&160&&r(5,l=l??n),s.$$.dirty&883)try{if(r(1,i=void 0),!f)if(e){if(typeof e=="string")throw Error(`Received: data=${e}, expected: data={${e}}`);if(Array.isArray(e)||r(4,e=[e]),isNaN(a))throw Error("row must be a number (row="+a+")");try{Object.keys(e[a])[0]}catch{throw Error("Row "+a+" does not exist in the dataset")}r(5,l=l??Object.keys(e[a])[0]),W(e,[l]),r(9,g=x(e,"array"));let u=g.filter(m=>m.type==="date");if(u=u.map(m=>m.id),u.length>0)for(let m=0;m<u.length;m++)r(4,e=$(e,u[m]));r(3,h=e[a][l]),r(9,g=g.filter(m=>m.id===l)),o?r(2,c=ee(o,g[0].format.valueType)):r(2,c=g[0].format)}else throw Error("No data provided. If you referenced a query result, check that the name is correct.")}catch(u){throw r(1,i=u.message),console.error("\x1B[31m%s\x1B[0m",`Error in Value: ${i}`),i}s.$$.dirty&160&&n&&l&&console.warn('Both "value" and "column" were supplied as props to Value. "value" will be ignored.')},[f,i,c,h,e,l,a,n,o,g]}class se extends R{constructor(t){super(),q(this,t,ne,le,L,{data:4,row:6,column:5,value:7,placeholder:0,fmt:8})}}function oe(s){let t;const r=s[5].default,e=G(r,s,s[6],null);return{c(){e&&e.c()},l(a){e&&e.l(a)},m(a,l){e&&e.m(a,l),t=!0},p(a,l){e&&e.p&&(!t||l&64)&&J(e,r,a,a[6],t?U(r,a[6],l,null):K(a[6]),null)},i(a){t||(_(e,a),t=!0)},o(a){p(e,a),t=!1},d(a){e&&e.d(a)}}}function fe(s){var l;let t,r;const e=[s[4],{data:(l=s[9])!=null&&l.__isQueryStore?Array.from(s[9]):s[9]}];let a={$$slots:{default:[oe]},$$scope:{ctx:s}};for(let n=0;n<e.length;n+=1)a=I(a,e[n]);return t=new se({props:a}),{c(){P(t.$$.fragment)},l(n){V(t.$$.fragment,n)},m(n,f){N(t,n,f),r=!0},p(n,f){var c;const o=f&528?H(e,[f&16&&z(n[4]),f&512&&{data:(c=n[9])!=null&&c.__isQueryStore?Array.from(n[9]):n[9]}]):{};f&64&&(o.$$scope={dirty:f,ctx:n}),t.$set(o)},i(n){r||(_(t.$$.fragment,n),r=!0)},o(n){p(t.$$.fragment,n),r=!1},d(n){C(t,n)}}}function Q(s){let t,r;return t=new Z({props:{emptyMessage:s[2],emptySet:s[1],chartType:me,isInitial:s[3]}}),{c(){P(t.$$.fragment)},l(e){V(t.$$.fragment,e)},m(e,a){N(t,e,a),r=!0},p(e,a){const l={};a&4&&(l.emptyMessage=e[2]),a&2&&(l.emptySet=e[1]),a&8&&(l.isInitial=e[3]),t.$set(l)},i(e){r||(_(t.$$.fragment,e),r=!0)},o(e){p(t.$$.fragment,e),r=!1},d(e){C(t,e)}}}function ue(s){let t,r,e=!s[4].placeholder&&Q(s);return{c(){t=S("span"),e&&e.c(),this.h()},l(a){t=E(a,"SPAN",{slot:!0});var l=w(t);e&&e.l(l),l.forEach(d),this.h()},h(){v(t,"slot","empty")},m(a,l){A(a,t,l),e&&e.m(t,null),r=!0},p(a,l){a[4].placeholder?e&&(F(),p(e,1,1,()=>{e=null}),B()):e?(e.p(a,l),l&16&&_(e,1)):(e=Q(a),e.c(),_(e,1),e.m(t,null))},i(a){r||(_(e),r=!0)},o(a){p(e),r=!1},d(a){a&&d(t),e&&e.d()}}}function ce(s){let t,r;return{c(){t=S("p"),r=b("Loading..."),this.h()},l(e){t=E(e,"P",{slot:!0,class:!0});var a=w(t);r=k(a,"Loading..."),a.forEach(d),this.h()},h(){v(t,"slot","skeleton"),v(t,"class","text-gray-500")},m(e,a){A(e,t,a),y(t,r)},p:j,d(e){e&&d(t)}}}function ie(s){let t,r;return t=new Y({props:{data:s[0],$$slots:{skeleton:[ce,({loaded:e})=>({9:e}),({loaded:e})=>e?512:0],empty:[ue,({loaded:e})=>({9:e}),({loaded:e})=>e?512:0],default:[fe,({loaded:e})=>({9:e}),({loaded:e})=>e?512:0]},$$scope:{ctx:s}}}),{c(){P(t.$$.fragment)},l(e){V(t.$$.fragment,e)},m(e,a){N(t,e,a),r=!0},p(e,[a]){const l={};a&1&&(l.data=e[0]),a&606&&(l.$$scope={dirty:a,ctx:e}),t.$set(l)},i(e){r||(_(t.$$.fragment,e),r=!0)},o(e){p(t.$$.fragment,e),r=!1},d(e){C(t,e)}}}let me="Value";function _e(s,t,r){let e,{$$slots:a={},$$scope:l}=t,{data:n}=t;const f=typeof n=="object"&&"__isQueryStore"in n?n.hash:void 0;let o=(n==null?void 0:n.hash)===f,{emptySet:c=void 0}=t,{emptyMessage:h=void 0}=t;return s.$$set=i=>{r(8,t=I(I({},t),T(i))),"data"in i&&r(0,n=i.data),"emptySet"in i&&r(1,c=i.emptySet),"emptyMessage"in i&&r(2,h=i.emptyMessage),"$$scope"in i&&r(6,l=i.$$scope)},s.$$.update=()=>{s.$$.dirty&1&&r(3,o=(n==null?void 0:n.hash)===f),r(4,e=Object.fromEntries(Object.entries(t).filter(([,i])=>i!==void 0)))},t=T(t),[n,c,h,o,e,a,l]}class be extends R{constructor(t){super(),q(this,t,_e,ie,L,{data:0,emptySet:1,emptyMessage:2})}}export{be as V};
