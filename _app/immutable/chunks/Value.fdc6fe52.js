import{S as C,i as L,s as Q,b as O,m as v,o as S,f as d,e as g,t as _,a as z,d as y,g as b,j as h,c as B,k as w,n as i,T as A,G as F,H as I,I as R,z as N,B as j,J as T,L as P,R as V,P as D,a9 as G,v as H,D as J,E as K,F as M}from"./index.fa6138d3.js";import{c as U,Q as W}from"./checkInputs.267d5cff.js";import{g as X}from"./DownloadData.0c856e95.js";import{c as Y,g as Z,f as q}from"./formatting.189e4d28.js";import"./VennDiagram.svelte_svelte_type_style_lang.69ec4ecf.js";function x(l){let e,s,t,r,a,n;return{c(){e=g("span"),s=g("span"),t=_("error"),r=z(),a=g("span"),n=_(l[1]),this.h()},l(o){e=y(o,"SPAN",{class:!0});var c=b(e);s=y(c,"SPAN",{class:!0});var f=b(s);t=h(f,"error"),f.forEach(d),r=B(c),a=y(c,"SPAN",{class:!0});var k=b(a);n=h(k,l[1]),k.forEach(d),c.forEach(d),this.h()},h(){w(s,"class","inline font-sans font-medium text-xs text-red-600"),w(a,"class","hidden text-white font-sans group-hover:inline absolute -top-1 left-[105%] text-sm z-10 px-2 py-1 bg-gray-800/80 leading-relaxed min-w-[150px] max-w-[400px] rounded-md"),w(e,"class","group inline-flex items-center relative cursor-help cursor-helpfont-sans px-1 border border-red-200 py-[1px] bg-red-50 rounded")},m(o,c){v(o,e,c),i(e,s),i(s,t),i(e,r),i(e,a),i(a,n)},p(o,c){c&2&&A(n,o[1])},d(o){o&&d(e)}}}function $(l){let e,s=q(l[3],l[2])+"",t;return{c(){e=g("span"),t=_(s)},l(r){e=y(r,"SPAN",{});var a=b(e);t=h(a,s),a.forEach(d)},m(r,a){v(r,e,a),i(e,t)},p(r,a){a&12&&s!==(s=q(r[3],r[2])+"")&&A(t,s)},d(r){r&&d(e)}}}function ee(l){let e,s,t,r,a,n;return{c(){e=g("span"),s=_("["),t=_(l[0]),r=_("]"),a=g("span"),n=_("Placeholder: no data currently referenced."),this.h()},l(o){e=y(o,"SPAN",{class:!0});var c=b(e);s=h(c,"["),t=h(c,l[0]),r=h(c,"]"),a=y(c,"SPAN",{class:!0});var f=b(a);n=h(f,"Placeholder: no data currently referenced."),f.forEach(d),c.forEach(d),this.h()},h(){w(a,"class","error-msg svelte-11norvs"),w(e,"class","placeholder svelte-11norvs")},m(o,c){v(o,e,c),i(e,s),i(e,t),i(e,r),i(e,a),i(a,n)},p(o,c){c&1&&A(t,o[0])},d(o){o&&d(e)}}}function te(l){let e;function s(a,n){return a[0]?ee:a[1]?x:$}let t=s(l),r=t(l);return{c(){r.c(),e=O()},l(a){r.l(a),e=O()},m(a,n){r.m(a,n),v(a,e,n)},p(a,[n]){t===(t=s(a))&&r?r.p(a,n):(r.d(1),r=t(a),r&&(r.c(),r.m(e.parentNode,e)))},i:S,o:S,d(a){r.d(a),a&&d(e)}}}function re(l,e,s){let{data:t=null}=e,{row:r=0}=e,{column:a=null}=e,{value:n=null}=e,{placeholder:o=null}=e,{fmt:c=void 0}=e,f,k,E,p;return l.$$set=u=>{"data"in u&&s(4,t=u.data),"row"in u&&s(6,r=u.row),"column"in u&&s(5,a=u.column),"value"in u&&s(7,n=u.value),"placeholder"in u&&s(0,o=u.placeholder),"fmt"in u&&s(8,c=u.fmt)},l.$$.update=()=>{if(l.$$.dirty&160&&s(5,a=a??n),l.$$.dirty&883)try{if(s(1,E=void 0),!o)if(t){if(typeof t=="string")throw Error(`Received: data=${t}, expected: data={${t}}`);if(Array.isArray(t)||s(4,t=[t]),isNaN(r))throw Error("row must be a number (row="+r+")");try{Object.keys(t[r])[0]}catch{throw Error("Row "+r+" does not exist in the dataset")}s(5,a=a??Object.keys(t[r])[0]),U(t,[a]),s(9,p=X(t,"array"));let u=p.filter(m=>m.type==="date");if(u=u.map(m=>m.id),u.length>0)for(let m=0;m<u.length;m++)s(4,t=Y(t,u[m]));s(3,k=t[r][a]),s(9,p=p.filter(m=>m.id===a)),c?s(2,f=Z(c,p[0].format.valueType)):s(2,f=p[0].format)}else throw Error("No data provided. If you referenced a query result, check that the name is correct.")}catch(u){throw s(1,E=u.message),E}l.$$.dirty&160&&n&&a&&console.warn('Both "value" and "column" were supplied as props to Value. "value" will be ignored.')},[o,E,f,k,t,a,r,n,c,p]}class ae extends C{constructor(e){super(),L(this,e,re,te,Q,{data:4,row:6,column:5,value:7,placeholder:0,fmt:8})}}function se(l){let e;const s=l[2].default,t=H(s,l,l[3],null);return{c(){t&&t.c()},l(r){t&&t.l(r)},m(r,a){t&&t.m(r,a),e=!0},p(r,a){t&&t.p&&(!e||a&8)&&J(t,s,r,r[3],e?M(s,r[3],a,null):K(r[3]),null)},i(r){e||(N(t,r),e=!0)},o(r){j(t,r),e=!1},d(r){t&&t.d(r)}}}function ne(l){var a;let e,s;const t=[l[1],{data:(a=l[5])!=null&&a.__isQueryStore?Array.from(l[5]):l[5]}];let r={$$slots:{default:[se]},$$scope:{ctx:l}};for(let n=0;n<t.length;n+=1)r=P(r,t[n]);return e=new ae({props:r}),{c(){F(e.$$.fragment)},l(n){I(e.$$.fragment,n)},m(n,o){R(e,n,o),s=!0},p(n,o){var f;const c=o&34?D(t,[o&2&&G(n[1]),o&32&&{data:(f=n[5])!=null&&f.__isQueryStore?Array.from(n[5]):n[5]}]):{};o&8&&(c.$$scope={dirty:o,ctx:n}),e.$set(c)},i(n){s||(N(e.$$.fragment,n),s=!0)},o(n){j(e.$$.fragment,n),s=!1},d(n){T(e,n)}}}function le(l){let e,s;return{c(){e=g("p"),s=_("Loading..."),this.h()},l(t){e=y(t,"P",{slot:!0});var r=b(e);s=h(r,"Loading..."),r.forEach(d),this.h()},h(){w(e,"slot","skeleton")},m(t,r){v(t,e,r),i(e,s)},p:S,d(t){t&&d(e)}}}function oe(l){let e,s;return e=new W({props:{data:l[0],$$slots:{skeleton:[le,({loaded:t})=>({5:t}),({loaded:t})=>t?32:0],default:[ne,({loaded:t})=>({5:t}),({loaded:t})=>t?32:0]},$$scope:{ctx:l}}}),{c(){F(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,r){R(e,t,r),s=!0},p(t,[r]){const a={};r&1&&(a.data=t[0]),r&42&&(a.$$scope={dirty:r,ctx:t}),e.$set(a)},i(t){s||(N(e.$$.fragment,t),s=!0)},o(t){j(e.$$.fragment,t),s=!1},d(t){T(e,t)}}}function ce(l,e,s){let t,{$$slots:r={},$$scope:a}=e,{data:n}=e;return l.$$set=o=>{s(4,e=P(P({},e),V(o))),"data"in o&&s(0,n=o.data),"$$scope"in o&&s(3,a=o.$$scope)},l.$$.update=()=>{s(1,t=Object.fromEntries(Object.entries(e).filter(([,o])=>o!==void 0)))},e=V(e),[n,t,r,a]}class _e extends C{constructor(e){super(),L(this,e,ce,oe,Q,{data:0})}}export{_e as V};
