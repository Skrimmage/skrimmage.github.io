import{S as x,i as ee,s as te,d as y,e as E,f as P,K as M,j as w,k as ie,l as C,m as a,n as Z,L as A,p as b,r as $,v as I,M as R,t as g,b as v,N as re,O as j,x as X,y as fe,z as ne,A as se,h as le,o as me,w as Q,P as ue}from"./index.bcaf0f15.js";import{p as oe}from"./stores.bb26cdff.js";import{p as Y,r as B}from"./inferColumnTypes.e979ca36.js";import{C as ae}from"./globalContexts.09a53420.js";import{L as pe,a as G}from"./Links.e4123dd6.js";import"./ecStat.c30b1442.js";import"./paths.53efb43e.js";import{Q as ce}from"./QueryViewer.d1209fd2.js";import{V as $e}from"./Value.ac47d94f.js";import{D as _e,C as D}from"./DataTable.fbfdec46.js";function be(c){var r;let i,l=(o.title??((r=o.og)==null?void 0:r.title))+"",t;return{c(){i=E("h1"),t=le(l),this.h()},l(n){i=C(n,"H1",{class:!0});var s=Z(i);t=me(s,l),s.forEach(a),this.h()},h(){b(i,"class","title")},m(n,s){$(n,i,s),I(i,t)},p:Q,d(n){n&&a(i)}}}function de(c){return{c(){this.h()},l(i){this.h()},h(){document.title="Evidence"},m:Q,p:Q,d:Q}}function ke(c){var s;let i,l,t,r,n;return document.title=i=o.title??((s=o.og)==null?void 0:s.title),{c(){l=y(),t=E("meta"),r=y(),n=E("meta"),this.h()},l(e){l=w(e),t=C(e,"META",{property:!0,content:!0}),r=w(e),n=C(e,"META",{name:!0,content:!0}),this.h()},h(){var e,u;b(t,"property","og:title"),b(t,"content",((e=o.og)==null?void 0:e.title)??o.title),b(n,"name","twitter:title"),b(n,"content",((u=o.og)==null?void 0:u.title)??o.title)},m(e,u){$(e,l,u),$(e,t,u),$(e,r,u),$(e,n,u)},p(e,u){var m;u&0&&i!==(i=o.title??((m=o.og)==null?void 0:m.title))&&(document.title=i)},d(e){e&&a(l),e&&a(t),e&&a(r),e&&a(n)}}}function ye(c){var n,s;let i,l,t=(o.description||((n=o.og)==null?void 0:n.description))&&we(),r=((s=o.og)==null?void 0:s.image)&&Te();return{c(){t&&t.c(),i=y(),r&&r.c(),l=P()},l(e){t&&t.l(e),i=w(e),r&&r.l(e),l=P()},m(e,u){t&&t.m(e,u),$(e,i,u),r&&r.m(e,u),$(e,l,u)},p(e,u){var m,_;(o.description||(m=o.og)!=null&&m.description)&&t.p(e,u),(_=o.og)!=null&&_.image&&r.p(e,u)},d(e){t&&t.d(e),e&&a(i),r&&r.d(e),e&&a(l)}}}function we(c){let i,l,t,r,n;return{c(){i=E("meta"),l=y(),t=E("meta"),r=y(),n=E("meta"),this.h()},l(s){i=C(s,"META",{name:!0,content:!0}),l=w(s),t=C(s,"META",{property:!0,content:!0}),r=w(s),n=C(s,"META",{name:!0,content:!0}),this.h()},h(){var s,e,u;b(i,"name","description"),b(i,"content",o.description??((s=o.og)==null?void 0:s.description)),b(t,"property","og:description"),b(t,"content",((e=o.og)==null?void 0:e.description)??o.description),b(n,"name","twitter:description"),b(n,"content",((u=o.og)==null?void 0:u.description)??o.description)},m(s,e){$(s,i,e),$(s,l,e),$(s,t,e),$(s,r,e),$(s,n,e)},p:Q,d(s){s&&a(i),s&&a(l),s&&a(t),s&&a(r),s&&a(n)}}}function Te(c){let i,l,t;return{c(){i=E("meta"),l=y(),t=E("meta"),this.h()},l(r){i=C(r,"META",{property:!0,content:!0}),l=w(r),t=C(r,"META",{name:!0,content:!0}),this.h()},h(){var r,n;b(i,"property","og:image"),b(i,"content",(r=o.og)==null?void 0:r.image),b(t,"name","twitter:image"),b(t,"content",(n=o.og)==null?void 0:n.image)},m(r,n){$(r,i,n),$(r,l,n),$(r,t,n)},p:Q,d(r){r&&a(i),r&&a(l),r&&a(t)}}}function J(c){let i,l;return i=new ce({props:{pageQueries:c[0].evidencemeta.queries,queryID:"circuits",queryResult:c[0].circuits}}),{c(){M(i.$$.fragment)},l(t){A(i.$$.fragment,t)},m(t,r){R(i,t,r),l=!0},p(t,r){const n={};r&1&&(n.pageQueries=t[0].evidencemeta.queries),r&1&&(n.queryResult=t[0].circuits),i.$set(n)},i(t){l||(g(i.$$.fragment,t),l=!0)},o(t){v(i.$$.fragment,t),l=!1},d(t){j(i,t)}}}function ge(c){let i,l,t,r,n,s,e,u;return i=new D({props:{id:"name",title:"Name"}}),t=new D({props:{id:"location",title:"Location"}}),n=new D({props:{id:"country",title:"Country"}}),e=new D({props:{id:"url",title:"Wikipedia",contentType:"link",openInNewTab:"true"}}),{c(){M(i.$$.fragment),l=y(),M(t.$$.fragment),r=y(),M(n.$$.fragment),s=y(),M(e.$$.fragment)},l(m){A(i.$$.fragment,m),l=w(m),A(t.$$.fragment,m),r=w(m),A(n.$$.fragment,m),s=w(m),A(e.$$.fragment,m)},m(m,_){R(i,m,_),$(m,l,_),R(t,m,_),$(m,r,_),R(n,m,_),$(m,s,_),R(e,m,_),u=!0},p:Q,i(m){u||(g(i.$$.fragment,m),g(t.$$.fragment,m),g(n.$$.fragment,m),g(e.$$.fragment,m),u=!0)},o(m){v(i.$$.fragment,m),v(t.$$.fragment,m),v(n.$$.fragment,m),v(e.$$.fragment,m),u=!1},d(m){j(i,m),m&&a(l),j(t,m),m&&a(r),j(n,m),m&&a(s),j(e,m)}}}function ve(c){let i,l,t,r,n,s;return i=new G({props:{dest:"/sports/F1/drivers/",text:"Drivers"}}),t=new G({props:{dest:"/sports/F1/races/",text:"Races"}}),n=new G({props:{dest:"/sports/F1/circuits/",text:"Circuits"}}),{c(){M(i.$$.fragment),l=y(),M(t.$$.fragment),r=y(),M(n.$$.fragment)},l(e){A(i.$$.fragment,e),l=w(e),A(t.$$.fragment,e),r=w(e),A(n.$$.fragment,e)},m(e,u){R(i,e,u),$(e,l,u),R(t,e,u),$(e,r,u),R(n,e,u),s=!0},p:Q,i(e){s||(g(i.$$.fragment,e),g(t.$$.fragment,e),g(n.$$.fragment,e),s=!0)},o(e){v(i.$$.fragment,e),v(t.$$.fragment,e),v(n.$$.fragment,e),s=!1},d(e){j(i,e),e&&a(l),j(t,e),e&&a(r),j(n,e)}}}function Ee(c){var K;let i,l,t,r,n,s,e,u,m,_,U,d,H,q,S,T=typeof o<"u"&&(o.title||((K=o.og)==null?void 0:K.title))&&o.hide_title!==!0&&be();function L(f,p){var O;return typeof o<"u"&&(o.title||(O=o.og)!=null&&O.title)?ke:de}let F=L()(c),N=typeof o=="object"&&ye(),k=c[0].circuits&&J(c);return u=new $e({props:{data:c[1].filter(c[4]),column:"name"}}),_=new _e({props:{data:c[1].filter(c[5]),$$slots:{default:[ge]},$$scope:{ctx:c}}}),q=new pe({props:{$$slots:{default:[ve]},$$scope:{ctx:c}}}),{c(){T&&T.c(),i=y(),F.c(),l=E("meta"),t=E("meta"),N&&N.c(),r=P(),n=y(),k&&k.c(),s=y(),e=E("h1"),M(u.$$.fragment),m=y(),M(_.$$.fragment),U=y(),d=E("hr"),H=y(),M(q.$$.fragment),this.h()},l(f){T&&T.l(f),i=w(f);const p=ie("svelte-1j2izld",document.head);F.l(p),l=C(p,"META",{name:!0,content:!0}),t=C(p,"META",{name:!0,content:!0}),N&&N.l(p),r=P(),p.forEach(a),n=w(f),k&&k.l(f),s=w(f),e=C(f,"H1",{class:!0});var O=Z(e);A(u.$$.fragment,O),O.forEach(a),m=w(f),A(_.$$.fragment,f),U=w(f),d=C(f,"HR",{class:!0}),H=w(f),A(q.$$.fragment,f),this.h()},h(){b(l,"name","twitter:card"),b(l,"content","summary"),b(t,"name","twitter:site"),b(t,"content","@evidence_dev"),b(e,"class","markdown"),b(d,"class","markdown")},m(f,p){T&&T.m(f,p),$(f,i,p),F.m(document.head,null),I(document.head,l),I(document.head,t),N&&N.m(document.head,null),I(document.head,r),$(f,n,p),k&&k.m(f,p),$(f,s,p),$(f,e,p),R(u,e,null),$(f,m,p),R(_,f,p),$(f,U,p),$(f,d,p),$(f,H,p),R(q,f,p),S=!0},p(f,[p]){var W;typeof o<"u"&&(o.title||(W=o.og)!=null&&W.title)&&o.hide_title!==!0&&T.p(f,p),F.p(f,p),typeof o=="object"&&N.p(f,p),f[0].circuits?k?(k.p(f,p),p&1&&g(k,1)):(k=J(f),k.c(),g(k,1),k.m(s.parentNode,s)):k&&(ue(),v(k,1,1,()=>{k=null}),re());const O={};p&6&&(O.data=f[1].filter(f[4])),u.$set(O);const z={};p&6&&(z.data=f[1].filter(f[5])),p&512&&(z.$$scope={dirty:p,ctx:f}),_.$set(z);const h={};p&512&&(h.$$scope={dirty:p,ctx:f}),q.$set(h)},i(f){S||(g(k),g(u.$$.fragment,f),g(_.$$.fragment,f),g(q.$$.fragment,f),S=!0)},o(f){v(k),v(u.$$.fragment,f),v(_.$$.fragment,f),v(q.$$.fragment,f),S=!1},d(f){T&&T.d(f),f&&a(i),F.d(f),a(l),a(t),N&&N.d(f),a(r),f&&a(n),k&&k.d(f),f&&a(s),f&&a(e),j(u),f&&a(m),j(_,f),f&&a(U),f&&a(d),f&&a(H),j(q,f)}}}const o={sources:[{circuits:"f1/circuits.sql"}]};function Ce(c,i,l){let t,r;X(c,B,d=>l(7,t=d)),X(c,oe,d=>l(2,r=d));let{data:n}=i,{data:s={},customFormattingSettings:e}=n;fe(B,t="5185e0f518fc0d666f02a200ba95960c",t),ne(ae,{getCustomFormats:()=>e.customFormats||[]});const u=function(d){var q,S;let H=(q=d.evidencemeta)==null?void 0:q.queries;if(H)for(let T=0;T<H.length;T++){let L=d[H[T].id],V=(S=d.evidencemeta)==null?void 0:S.queries[T].columnTypes;for(let F=0;F<L.length;F++)V&&Object.defineProperty(L[F],"_evidenceColumnTypes",{enumerable:!1,value:V})}};se(()=>{u(s)});let{circuits:m}=s;const _=d=>d.circuitRef.toUpperCase()===r.params.circuitRef.toUpperCase(),U=d=>d.circuitRef.toUpperCase()===r.params.circuitRef.toUpperCase();return c.$$set=d=>{"data"in d&&l(3,n=d.data)},c.$$.update=()=>{c.$$.dirty&8&&l(0,{data:s={},customFormattingSettings:e}=n,s),c.$$.dirty&1&&(Object.keys(s).length>0?Y.set(!0):Y.set(!1)),c.$$.dirty&1&&l(1,{circuits:m}=s,m)},[s,m,r,n,_,U]}class Se extends x{constructor(i){super(),ee(this,i,Ce,Ee,te,{data:3})}}export{Se as default};
