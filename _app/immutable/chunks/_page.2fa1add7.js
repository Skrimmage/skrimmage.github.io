import{S as Me,i as Re,s as Ce,C as ve,f as K,d as A,D as ge,n as J,m as d,j as D,p as v,r as k,v as Y,X as ue,w as re,G as ft,$ as Je,x as ye,a0 as ut,y as de,e as S,l as U,U as De,V as st,a1 as at,a2 as ot,h as oe,o as me,J as he,Q as te,b as M,O as ie,t as E,L as F,M as z,N as G,P as L,W as Oe,k as mt,z as _t,A as ct}from"./index.c3cfe2ef.js";import{p as dt}from"./stores.0bb04ffd.js";import{p as Pe,r as Ve}from"./inferColumnTypes.cbca7996.js";import{C as ht}from"./globalContexts.09a53420.js";import"./ecStat.a21ef169.js";import{w as Ye}from"./paths.409a7b64.js";import{g as vt,Q as _e}from"./QueryViewer.2e4cf8f9.js";import{V as Ae}from"./Value.1795efa9.js";import{c as Ne,s as gt}from"./checkInputs.29b04e93.js";import{E as pt,D as bt,C as we}from"./DataTable.ec300b6e.js";function kt(l,e,i){return[...l].sort((t,r)=>(t[e]<r[e]?-1:1)*(i?1:-1))}const qe=Ye({}),Ee=Ye({});function je(l,e,i){const t=l.slice();return t[51]=e[i][0],t[52]=e[i][1],t[54]=i,t}function He(l){let e,i;return{c(){e=ve("polyline"),this.h()},l(t){e=ge(t,"polyline",{points:!0,stroke:!0,fill:!0}),J(e).forEach(d),this.h()},h(){v(e,"points",i=l[26].join(" ")),v(e,"stroke",l[16]),v(e,"fill","transparent")},m(t,r){k(t,e,r)},p(t,r){r[0]&67108864&&i!==(i=t[26].join(" "))&&v(e,"points",i),r[0]&65536&&v(e,"stroke",t[16])},d(t){t&&d(e)}}}function Qe(l){let e,i,t,r,n;return{c(){e=ve("circle"),this.h()},l(u){e=ge(u,"circle",{fill:!0,r:!0,cy:!0,cx:!0}),J(e).forEach(d),this.h()},h(){v(e,"fill",i=l[7]&&l[23][l[20]]!==null&&l[23][l[20]]==l[51]?l[5]:"transparent"),v(e,"r",t=l[21]/2),v(e,"cy",r=l[2]-l[27](l[52])),v(e,"cx",n=(parseInt(l[4])+l[21])*l[54])},m(u,f){k(u,e,f)},p(u,f){f[0]&9437345&&i!==(i=u[7]&&u[23][u[20]]!==null&&u[23][u[20]]==u[51]?u[5]:"transparent")&&v(e,"fill",i),f[0]&2097152&&t!==(t=u[21]/2)&&v(e,"r",t),f[0]&5&&r!==(r=u[2]-u[27](u[52]))&&v(e,"cy",r),f[0]&2097168&&n!==(n=(parseInt(u[4])+u[21])*u[54])&&v(e,"cx",n)},d(u){u&&d(e)}}}function We(l){let e,i,t,r,n,u,f,a,c,h;function o(){return l[39](l[51],l[54])}function m(){return l[40](l[51],l[54])}function g(){return l[41](l[51],l[54])}function y(){return l[42](l[51],l[54])}function p(){return l[43](l[51],l[54])}let w=l[15]=="line"&&Qe(l);return{c(){e=ve("rect"),w&&w.c(),a=K(),this.h()},l(q){e=ge(q,"rect",{style:!0,opacity:!0,fill:!0,width:!0,height:!0,y:!0,x:!0,tabindex:!0}),J(e).forEach(d),w&&w.l(q),a=K(),this.h()},h(){v(e,"style",i=l[8]?`transition: all ${l[8]}ms`:null),v(e,"opacity",t=l[7]&&l[23][l[20]]&&l[23][l[20]]!=l[51]?l[6]:1),v(e,"fill",r=l[15]=="line"?"transparent":l[5]),v(e,"width",l[21]),v(e,"height",n=l[15]=="line"?l[2]:l[27](l[52])),v(e,"y",u=l[15]=="line"?0:l[2]-l[27](l[52])),v(e,"x",f=(parseInt(l[4])+l[21])*l[54]),v(e,"tabindex",l[17])},m(q,C){k(q,e,C),w&&w.m(q,C),k(q,a,C),c||(h=[ue(e,"mouseover",o),ue(e,"focus",m),ue(e,"touchstart",g,{passive:!0}),ue(e,"click",y),ue(e,"keypress",p)],c=!0)},p(q,C){l=q,C[0]&256&&i!==(i=l[8]?`transition: all ${l[8]}ms`:null)&&v(e,"style",i),C[0]&9437377&&t!==(t=l[7]&&l[23][l[20]]&&l[23][l[20]]!=l[51]?l[6]:1)&&v(e,"opacity",t),C[0]&32800&&r!==(r=l[15]=="line"?"transparent":l[5])&&v(e,"fill",r),C[0]&2097152&&v(e,"width",l[21]),C[0]&32773&&n!==(n=l[15]=="line"?l[2]:l[27](l[52]))&&v(e,"height",n),C[0]&32773&&u!==(u=l[15]=="line"?0:l[2]-l[27](l[52]))&&v(e,"y",u),C[0]&2097168&&f!==(f=(parseInt(l[4])+l[21])*l[54])&&v(e,"x",f),C[0]&131072&&v(e,"tabindex",l[17]),l[15]=="line"?w?w.p(l,C):(w=Qe(l),w.c(),w.m(a.parentNode,a)):w&&(w.d(1),w=null)},d(q){q&&d(e),w&&w.d(q),q&&d(a),c=!1,Je(h)}}}function Se(l){let e,i;function t(u,f){return u[24][u[1]]!==null?wt:yt}let r=t(l),n=r(l);return{c(){e=S("div"),n.c(),this.h()},l(u){e=U(u,"DIV",{class:!0,style:!0});var f=J(e);n.l(f),f.forEach(d),this.h()},h(){v(e,"class","tiny-linked-charts-value"),v(e,"style",i=l[13]=="floating"?`position: absolute; transform: translateX(${l[25]}px)`:null)},m(u,f){k(u,e,f),n.m(e,null)},p(u,f){r===(r=t(u))&&n?n.p(u,f):(n.d(1),n=r(u),n&&(n.c(),n.m(e,null))),f[0]&33562624&&i!==(i=u[13]=="floating"?`position: absolute; transform: translateX(${u[25]}px)`:null)&&v(e,"style",i)},d(u){u&&d(e),n.d()}}}function yt(l){let e,i;return{c(){e=new at(!1),i=K(),this.h()},l(t){e=ot(t,!1),i=K(),this.h()},h(){e.a=i},m(t,r){e.m(l[10],t,r),k(t,i,r)},p(t,r){r[0]&1024&&e.p(t[10])},d(t){t&&d(i),t&&e.d()}}}function wt(l){let e,i,t,r=(l[24][l[1]]||l[14])+"",n,u,f;return{c(){e=oe(l[11]),i=A(),t=S("span"),n=oe(r),u=A(),f=oe(l[12])},l(a){e=me(a,l[11]),i=D(a),t=U(a,"SPAN",{});var c=J(t);n=me(c,r),c.forEach(d),u=D(a),f=me(a,l[12])},m(a,c){k(a,e,c),k(a,i,c),k(a,t,c),Y(t,n),l[44](t),k(a,u,c),k(a,f,c)},p(a,c){c[0]&2048&&he(e,a[11]),c[0]&16793602&&r!==(r=(a[24][a[1]]||a[14])+"")&&he(n,r),c[0]&4096&&he(f,a[12])},d(a){a&&d(e),a&&d(i),a&&d(t),l[44](null),a&&d(u),a&&d(f)}}}function qt(l){let e,i,t,r,n,u,f,a,c,h,o=l[15]=="line"&&He(l),m=Object.entries(l[0]),g=[];for(let p=0;p<m.length;p+=1)g[p]=We(je(l,m,p));let y=l[9]&&(l[24][l[1]]||l[10])&&Se(l);return{c(){e=ve("svg"),i=ve("g"),o&&o.c(),t=K();for(let p=0;p<g.length;p+=1)g[p].c();f=A(),y&&y.c(),a=K(),this.h()},l(p){e=ge(p,"svg",{width:!0,height:!0,viewBox:!0,preserveAspectRatio:!0});var w=J(e);i=ge(w,"g",{transform:!0});var q=J(i);o&&o.l(q),t=K();for(let C=0;C<g.length;C+=1)g[C].l(q);q.forEach(d),w.forEach(d),f=D(p),y&&y.l(p),a=K(),this.h()},h(){v(i,"transform",r="translate("+l[22]+", 0)"),v(e,"width",l[3]),v(e,"height",n=l[15]=="line"?l[2]+l[21]/2:l[2]),v(e,"viewBox",u="0 0 "+l[3]+" "+l[2]),v(e,"preserveAspectRatio","none")},m(p,w){k(p,e,w),Y(e,i),o&&o.m(i,null),Y(i,t);for(let q=0;q<g.length;q+=1)g[q].m(i,null);k(p,f,w),y&&y.m(p,w),k(p,a,w),c||(h=[ue(e,"mouseleave",l[29]),ue(e,"blur",l[29])],c=!0)},p(p,w){if(p[15]=="line"?o?o.p(p,w):(o=He(p),o.c(),o.m(i,t)):o&&(o.d(1),o=null),w[0]&414614005){m=Object.entries(p[0]);let q;for(q=0;q<m.length;q+=1){const C=je(p,m,q);g[q]?g[q].p(C,w):(g[q]=We(C),g[q].c(),g[q].m(i,null))}for(;q<g.length;q+=1)g[q].d(1);g.length=m.length}w[0]&4194304&&r!==(r="translate("+p[22]+", 0)")&&v(i,"transform",r),w[0]&8&&v(e,"width",p[3]),w[0]&2129924&&n!==(n=p[15]=="line"?p[2]+p[21]/2:p[2])&&v(e,"height",n),w[0]&12&&u!==(u="0 0 "+p[3]+" "+p[2])&&v(e,"viewBox",u),p[9]&&(p[24][p[1]]||p[10])?y?y.p(p,w):(y=Se(p),y.c(),y.m(a.parentNode,a)):y&&(y.d(1),y=null)},i:re,o:re,d(p){p&&d(e),o&&o.d(),ft(g,p),p&&d(f),y&&y.d(p),p&&d(a),c=!1,Je(h)}}}function Et(l,e,i){let t,r,n,u,f,a,c;ye(l,qe,_=>i(23,a=_)),ye(l,Ee,_=>i(24,c=_));let{uid:h=(Math.random()+1).toString(36).substring(7)}=e,{data:o={}}=e,{labels:m=[]}=e,{values:g=[]}=e,{linked:y=""}=e,{height:p=40}=e,{width:w=150}=e,{barMinWidth:q=4}=e,{grow:C=!1}=e,{align:T="right"}=e,{gap:I=1}=e,{fill:j="#ff3e00"}=e,{fadeOpacity:B=.5}=e,{hover:Z=!0}=e,{transition:X=0}=e,{showValue:fe=!1}=e,{valueDefault:se="&nbsp;"}=e,{valuePrepend:$=""}=e,{valueAppend:x=""}=e,{valuePosition:V="static"}=e,{valueUndefined:H=0}=e,{scaleMax:O=0}=e,{type:P="bar"}=e,{lineColor:Q=j}=e,{tabindex:N=-1}=e,{dispatchEvents:ne=!1}=e,{clickHandler:s=(_,W)=>null}=e;const b=ut();let ee=0,ae=[],le;function pe(){return O||(t?Math.max(...Object.values(o)):0)}function ce(_){return Math.round(parseInt(p)/n*_-(P=="line"?r/2:0))||0}function be(){return Math.max((parseInt(w)-t*parseInt(I))/t,parseInt(q))}function Ze(){return T=="left"?0:parseInt(I)+parseInt(w)-(parseInt(I)+r)*t}function $e(){let _=[];for(let W=0;W<Object.keys(o).length;W++)_.push([W*(r+I),p-ce(Object.values(o)[W])]);return _}async function ke(_,W){Z&&(de(qe,a[f]=_,a),await De(),ne&&b("hover",{uid:h,key:_,index:W,linkedKey:f,value:c[h],valueElement:le,eventElement:event.target}))}async function xe(){Z&&(de(qe,a[f]=null,a),await De(),ne&&b("blur",{uid:h,linkedKey:f,valueElement:le,eventElement:event.target}))}const et=(_,W)=>ke(_,W),tt=(_,W)=>ke(_,W),it=(_,W)=>ke(_,W),lt=(_,W)=>s(_,W),rt=(_,W)=>s(_,W);function nt(_){st[_?"unshift":"push"](()=>{le=_,i(19,le)})}return l.$$set=_=>{"uid"in _&&i(1,h=_.uid),"data"in _&&i(0,o=_.data),"labels"in _&&i(30,m=_.labels),"values"in _&&i(31,g=_.values),"linked"in _&&i(32,y=_.linked),"height"in _&&i(2,p=_.height),"width"in _&&i(3,w=_.width),"barMinWidth"in _&&i(33,q=_.barMinWidth),"grow"in _&&i(34,C=_.grow),"align"in _&&i(35,T=_.align),"gap"in _&&i(4,I=_.gap),"fill"in _&&i(5,j=_.fill),"fadeOpacity"in _&&i(6,B=_.fadeOpacity),"hover"in _&&i(7,Z=_.hover),"transition"in _&&i(8,X=_.transition),"showValue"in _&&i(9,fe=_.showValue),"valueDefault"in _&&i(10,se=_.valueDefault),"valuePrepend"in _&&i(11,$=_.valuePrepend),"valueAppend"in _&&i(12,x=_.valueAppend),"valuePosition"in _&&i(13,V=_.valuePosition),"valueUndefined"in _&&i(14,H=_.valueUndefined),"scaleMax"in _&&i(36,O=_.scaleMax),"type"in _&&i(15,P=_.type),"lineColor"in _&&i(16,Q=_.lineColor),"tabindex"in _&&i(17,N=_.tabindex),"dispatchEvents"in _&&i(37,ne=_.dispatchEvents),"clickHandler"in _&&i(18,s=_.clickHandler)},l.$$.update=()=>{l.$$.dirty[0]&1073741824|l.$$.dirty[1]&1&&m.length&&g.length&&i(0,o=Object.fromEntries(m.map((_,W)=>[m[W],g[W]]))),l.$$.dirty[0]&1&&i(38,t=Object.keys(o).length),l.$$.dirty[1]&140&&i(21,r=C?be():parseInt(q)),l.$$.dirty[1]&128&&(n=pe()),l.$$.dirty[1]&128&&i(22,u=t?Ze():0),l.$$.dirty[1]&2&&i(20,f=y||(Math.random()+1).toString(36).substring(7)),l.$$.dirty[0]&15736849&&V=="floating"&&i(25,ee=(parseInt(I)+r)*Object.keys(o).indexOf(a[f])+u),l.$$.dirty[0]&32769&&P=="line"&&i(26,ae=$e()),l.$$.dirty[0]&9437187&&(a[f]?de(Ee,c[h]=o[a[f]],c):de(Ee,c[h]=null,c)),l.$$.dirty[0]&18350082|l.$$.dirty[1]&64&&ne&&b("value-update",{value:c[h],uid:h,linkedKey:f,valueElement:le}),l.$$.dirty[0]&131072&&N>0&&console.warn("Tabindex should not be higher than 0")},[o,h,p,w,I,j,B,Z,X,fe,se,$,x,V,H,P,Q,N,s,le,f,r,u,a,c,ee,ae,ce,ke,xe,m,g,y,q,C,T,O,ne,t,et,tt,it,lt,rt,nt]}class Ie extends Me{constructor(e){super(),Re(this,e,Et,qt,Ce,{uid:1,data:0,labels:30,values:31,linked:32,height:2,width:3,barMinWidth:33,grow:34,align:35,gap:4,fill:5,fadeOpacity:6,hover:7,transition:8,showValue:9,valueDefault:10,valuePrepend:11,valueAppend:12,valuePosition:13,valueUndefined:14,scaleMax:36,type:15,lineColor:16,tabindex:17,dispatchEvents:37,clickHandler:18},null,[-1,-1])}}function Tt(l){let e,i,t,r,n,u,f,a,c;n=new Ae({props:{data:l[0],column:l[3],fmt:l[6]}});let h=l[5]&&Ue(l),o=l[4]&&Be(l);return{c(){e=S("p"),i=oe(l[1]),t=A(),r=S("div"),F(n.$$.fragment),u=A(),h&&h.c(),f=A(),o&&o.c(),a=K(),this.h()},l(m){e=U(m,"P",{class:!0});var g=J(e);i=me(g,l[1]),g.forEach(d),t=D(m),r=U(m,"DIV",{class:!0});var y=J(r);z(n.$$.fragment,y),u=D(y),h&&h.l(y),y.forEach(d),f=D(m),o&&o.l(m),a=K(),this.h()},h(){v(e,"class","text-sm text-gray-700"),v(r,"class","relative text-xl font-medium text-gray-700 my-0.5")},m(m,g){k(m,e,g),Y(e,i),k(m,t,g),k(m,r,g),G(n,r,null),Y(r,u),h&&h.m(r,null),k(m,f,g),o&&o.m(m,g),k(m,a,g),c=!0},p(m,g){(!c||g&2)&&he(i,m[1]);const y={};g&1&&(y.data=m[0]),g&8&&(y.column=m[3]),g&64&&(y.fmt=m[6]),n.$set(y),m[5]?h?(h.p(m,g),g&32&&E(h,1)):(h=Ue(m),h.c(),E(h,1),h.m(r,null)):h&&(te(),M(h,1,1,()=>{h=null}),ie()),m[4]?o?(o.p(m,g),g&16&&E(o,1)):(o=Be(m),o.c(),E(o,1),o.m(a.parentNode,a)):o&&(te(),M(o,1,1,()=>{o=null}),ie())},i(m){c||(E(n.$$.fragment,m),E(h),E(o),c=!0)},o(m){M(n.$$.fragment,m),M(h),M(o),c=!1},d(m){m&&d(e),m&&d(t),m&&d(r),L(n),h&&h.d(),m&&d(f),o&&o.d(m),m&&d(a)}}}function It(l){let e,i;return e=new pt({props:{chartType:"Big Value",error:l[11].message}}),{c(){F(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,r){G(e,t,r),i=!0},p(t,r){const n={};r&2048&&(n.error=t[11].message),e.$set(n)},i(t){i||(E(e.$$.fragment,t),i=!0)},o(t){M(e.$$.fragment,t),i=!1},d(t){L(e,t)}}}function Ue(l){let e=l[14](),i,t,r=e&&Mt(l);return{c(){r&&r.c(),i=K()},l(n){r&&r.l(n),i=K()},m(n,u){r&&r.m(n,u),k(n,i,u),t=!0},p(n,u){e&&r.p(n,u)},i(n){t||(E(r),t=!0)},o(n){M(r),t=!1},d(n){r&&r.d(n),n&&d(i)}}}function Mt(l){let e,i,t;var r=Ie;function n(u){return{props:{data:u[13],type:"line",grow:!0,barMinWidth:"1",gap:"0",fill:"var(--grey-400)",align:"left",hover:!1,linked:"id",width:"75",tabindex:-1}}}return r&&(i=Oe(r,n(l))),{c(){e=S("div"),i&&F(i.$$.fragment),this.h()},l(u){e=U(u,"DIV",{"data-viz":!0,class:!0});var f=J(e);i&&z(i.$$.fragment,f),f.forEach(d),this.h()},h(){v(e,"data-viz","BigValue"),v(e,"class","inline-block svelte-d8ixt8")},m(u,f){k(u,e,f),i&&G(i,e,null),t=!0},p(u,f){const a={};if(f&8192&&(a.data=u[13]),r!==(r=Ie)){if(i){te();const c=i;M(c.$$.fragment,1,0,()=>{L(c,1)}),ie()}r?(i=Oe(r,n(u)),F(i.$$.fragment),E(i.$$.fragment,1),G(i,e,null)):i=null}else r&&i.$set(a)},i(u){t||(i&&E(i.$$.fragment,u),t=!0)},o(u){i&&M(i.$$.fragment,u),t=!1},d(u){u&&d(e),i&&L(i)}}}function Be(l){let e,i,t=l[10]?"&#9650;":"&#9660;",r,n,u,f,a,c,h;return n=new Ae({props:{data:l[0],column:l[4],fmt:l[7]}}),{c(){e=S("p"),i=S("span"),r=A(),F(n.$$.fragment),u=A(),f=S("span"),a=oe(l[2]),this.h()},l(o){e=U(o,"P",{class:!0,style:!0});var m=J(e);i=U(m,"SPAN",{class:!0});var g=J(i);g.forEach(d),r=D(m),z(n.$$.fragment,m),u=D(m),f=U(m,"SPAN",{});var y=J(f);a=me(y,l[2]),y.forEach(d),m.forEach(d),this.h()},h(){v(i,"class","font-[system-ui]"),v(e,"class","text-xs font-sans"),v(e,"style",c=`color:${l[12]}`)},m(o,m){k(o,e,m),Y(e,i),i.innerHTML=t,Y(e,r),G(n,e,null),Y(e,u),Y(e,f),Y(f,a),h=!0},p(o,m){(!h||m&1024)&&t!==(t=o[10]?"&#9650;":"&#9660;")&&(i.innerHTML=t);const g={};m&1&&(g.data=o[0]),m&16&&(g.column=o[4]),m&128&&(g.fmt=o[7]),n.$set(g),(!h||m&4)&&he(a,o[2]),(!h||m&4096&&c!==(c=`color:${o[12]}`))&&v(e,"style",c)},i(o){h||(E(n.$$.fragment,o),h=!0)},o(o){M(n.$$.fragment,o),h=!1},d(o){o&&d(e),L(n)}}}function Rt(l){let e,i,t,r,n;const u=[It,Tt],f=[];function a(c,h){return c[11]?0:1}return i=a(l),t=f[i]=u[i](l),{c(){e=S("div"),t.c(),this.h()},l(c){e=U(c,"DIV",{class:!0,style:!0});var h=J(e);t.l(h),h.forEach(d),this.h()},h(){v(e,"class","inline-block font-sans pt-2 pb-3 pr-3 pl-0 mr-3 items-center align-top"),v(e,"style",r=`
        min-width: ${l[9]};
        max-width: ${l[8]};
    `)},m(c,h){k(c,e,h),f[i].m(e,null),n=!0},p(c,[h]){let o=i;i=a(c),i===o?f[i].p(c,h):(te(),M(f[o],1,1,()=>{f[o]=null}),ie(),t=f[i],t?t.p(c,h):(t=f[i]=u[i](c),t.c()),E(t,1),t.m(e,null)),(!n||h&768&&r!==(r=`
        min-width: ${c[9]};
        max-width: ${c[8]};
    `))&&v(e,"style",r)},i(c){n||(E(t),n=!0)},o(c){M(t),n=!1},d(c){c&&d(e),f[i].d()}}}function Ct(l,e,i){let{data:t}=e,{value:r=null}=e,{comparison:n=null}=e,{sparkline:u=null}=e,{fmt:f=void 0}=e,{comparisonFmt:a=void 0}=e,{title:c=null}=e,{comparisonTitle:h=null}=e,{downIsGood:o=!1}=e,{maxWidth:m="none"}=e,{minWidth:g="18%"}=e,y=!0,p="var(--grey-700)",w={},q;function C(){try{if(Ie)return!0}catch{return!1}return!1}return l.$$set=T=>{"data"in T&&i(0,t=T.data),"value"in T&&i(3,r=T.value),"comparison"in T&&i(4,n=T.comparison),"sparkline"in T&&i(5,u=T.sparkline),"fmt"in T&&i(6,f=T.fmt),"comparisonFmt"in T&&i(7,a=T.comparisonFmt),"title"in T&&i(1,c=T.title),"comparisonTitle"in T&&i(2,h=T.comparisonTitle),"downIsGood"in T&&i(15,o=T.downIsGood),"maxWidth"in T&&i(8,m=T.maxWidth),"minWidth"in T&&i(9,g=T.minWidth)},l.$$.update=()=>{if(l.$$.dirty&35903)try{if(i(11,q=void 0),!r)throw new Error("value is required");Array.isArray(t)||i(0,t=[t]),Ne(t,[r]);let T=vt(t,"array"),I=T.find(j=>j.id===r);if(i(1,c=c??(I?I.title:null)),n){Ne(t,[n]);let j=T.find(B=>B.id===n);i(2,h=h??(j?j.title:null))}if(t&&n&&(i(10,y=t[0][n]>=0),i(12,p=y&&!o||!y&&o?"var(--green-700)":"var(--red-700)")),t&&u&&r){let j=kt(t,u,!0);for(let B=0;B<j.length;B++)i(13,w[j[B][u]]=j[B][r],w)}}catch(T){if(i(11,q=T),gt)throw q}},[t,c,h,r,n,u,f,a,m,g,y,q,p,w,C,o]}class Te extends Me{constructor(e){super(),Re(this,e,Ct,Rt,Ce,{data:0,value:3,comparison:4,sparkline:5,fmt:6,comparisonFmt:7,title:1,comparisonTitle:2,downIsGood:15,maxWidth:8,minWidth:9})}}function At(l){var r;let e,i=(R.title??((r=R.og)==null?void 0:r.title))+"",t;return{c(){e=S("h1"),t=oe(i),this.h()},l(n){e=U(n,"H1",{class:!0});var u=J(e);t=me(u,i),u.forEach(d),this.h()},h(){v(e,"class","title")},m(n,u){k(n,e,u),Y(e,t)},p:re,d(n){n&&d(e)}}}function Dt(l){return{c(){this.h()},l(e){this.h()},h(){document.title="Evidence"},m:re,p:re,d:re}}function Ot(l){var u;let e,i,t,r,n;return document.title=e=R.title??((u=R.og)==null?void 0:u.title),{c(){i=A(),t=S("meta"),r=A(),n=S("meta"),this.h()},l(f){i=D(f),t=U(f,"META",{property:!0,content:!0}),r=D(f),n=U(f,"META",{name:!0,content:!0}),this.h()},h(){var f,a;v(t,"property","og:title"),v(t,"content",((f=R.og)==null?void 0:f.title)??R.title),v(n,"name","twitter:title"),v(n,"content",((a=R.og)==null?void 0:a.title)??R.title)},m(f,a){k(f,i,a),k(f,t,a),k(f,r,a),k(f,n,a)},p(f,a){var c;a&0&&e!==(e=R.title??((c=R.og)==null?void 0:c.title))&&(document.title=e)},d(f){f&&d(i),f&&d(t),f&&d(r),f&&d(n)}}}function Pt(l){var n,u;let e,i,t=(R.description||((n=R.og)==null?void 0:n.description))&&Vt(),r=((u=R.og)==null?void 0:u.image)&&Nt();return{c(){t&&t.c(),e=A(),r&&r.c(),i=K()},l(f){t&&t.l(f),e=D(f),r&&r.l(f),i=K()},m(f,a){t&&t.m(f,a),k(f,e,a),r&&r.m(f,a),k(f,i,a)},p(f,a){var c,h;(R.description||(c=R.og)!=null&&c.description)&&t.p(f,a),(h=R.og)!=null&&h.image&&r.p(f,a)},d(f){t&&t.d(f),f&&d(e),r&&r.d(f),f&&d(i)}}}function Vt(l){let e,i,t,r,n;return{c(){e=S("meta"),i=A(),t=S("meta"),r=A(),n=S("meta"),this.h()},l(u){e=U(u,"META",{name:!0,content:!0}),i=D(u),t=U(u,"META",{property:!0,content:!0}),r=D(u),n=U(u,"META",{name:!0,content:!0}),this.h()},h(){var u,f,a;v(e,"name","description"),v(e,"content",R.description??((u=R.og)==null?void 0:u.description)),v(t,"property","og:description"),v(t,"content",((f=R.og)==null?void 0:f.description)??R.description),v(n,"name","twitter:description"),v(n,"content",((a=R.og)==null?void 0:a.description)??R.description)},m(u,f){k(u,e,f),k(u,i,f),k(u,t,f),k(u,r,f),k(u,n,f)},p:re,d(u){u&&d(e),u&&d(i),u&&d(t),u&&d(r),u&&d(n)}}}function Nt(l){let e,i,t;return{c(){e=S("meta"),i=A(),t=S("meta"),this.h()},l(r){e=U(r,"META",{property:!0,content:!0}),i=D(r),t=U(r,"META",{name:!0,content:!0}),this.h()},h(){var r,n;v(e,"property","og:image"),v(e,"content",(r=R.og)==null?void 0:r.image),v(t,"name","twitter:image"),v(t,"content",(n=R.og)==null?void 0:n.image)},m(r,n){k(r,e,n),k(r,i,n),k(r,t,n)},p:re,d(r){r&&d(e),r&&d(i),r&&d(t)}}}function Fe(l){let e,i;return e=new _e({props:{pageQueries:l[0].evidencemeta.queries,queryID:"drivers",queryResult:l[0].drivers}}),{c(){F(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,r){G(e,t,r),i=!0},p(t,r){const n={};r&1&&(n.pageQueries=t[0].evidencemeta.queries),r&1&&(n.queryResult=t[0].drivers),e.$set(n)},i(t){i||(E(e.$$.fragment,t),i=!0)},o(t){M(e.$$.fragment,t),i=!1},d(t){L(e,t)}}}function jt(l){let e,i,t,r,n,u;return e=new we({props:{id:"dob",title:"Date Of Birth"}}),t=new we({props:{id:"nationality",title:"Nationality"}}),n=new we({props:{id:"url",title:"Wikipedia",contentType:"link",openInNewTab:"true"}}),{c(){F(e.$$.fragment),i=A(),F(t.$$.fragment),r=A(),F(n.$$.fragment)},l(f){z(e.$$.fragment,f),i=D(f),z(t.$$.fragment,f),r=D(f),z(n.$$.fragment,f)},m(f,a){G(e,f,a),k(f,i,a),G(t,f,a),k(f,r,a),G(n,f,a),u=!0},p:re,i(f){u||(E(e.$$.fragment,f),E(t.$$.fragment,f),E(n.$$.fragment,f),u=!0)},o(f){M(e.$$.fragment,f),M(t.$$.fragment,f),M(n.$$.fragment,f),u=!1},d(f){L(e,f),f&&d(i),L(t,f),f&&d(r),L(n,f)}}}function Ge(l){let e,i;return e=new _e({props:{pageQueries:l[0].evidencemeta.queries,queryID:"results",queryResult:l[0].results}}),{c(){F(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,r){G(e,t,r),i=!0},p(t,r){const n={};r&1&&(n.pageQueries=t[0].evidencemeta.queries),r&1&&(n.queryResult=t[0].results),e.$set(n)},i(t){i||(E(e.$$.fragment,t),i=!0)},o(t){M(e.$$.fragment,t),i=!1},d(t){L(e,t)}}}function Le(l){let e,i;return e=new _e({props:{pageQueries:l[0].evidencemeta.queries,queryID:"driver_cross_results",queryResult:l[0].driver_cross_results}}),{c(){F(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,r){G(e,t,r),i=!0},p(t,r){const n={};r&1&&(n.pageQueries=t[0].evidencemeta.queries),r&1&&(n.queryResult=t[0].driver_cross_results),e.$set(n)},i(t){i||(E(e.$$.fragment,t),i=!0)},o(t){M(e.$$.fragment,t),i=!1},d(t){L(e,t)}}}function ze(l){let e,i;return e=new _e({props:{pageQueries:l[0].evidencemeta.queries,queryID:"driver_wins",queryResult:l[0].driver_wins}}),{c(){F(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,r){G(e,t,r),i=!0},p(t,r){const n={};r&1&&(n.pageQueries=t[0].evidencemeta.queries),r&1&&(n.queryResult=t[0].driver_wins),e.$set(n)},i(t){i||(E(e.$$.fragment,t),i=!0)},o(t){M(e.$$.fragment,t),i=!1},d(t){L(e,t)}}}function Ke(l){let e,i;return e=new _e({props:{pageQueries:l[0].evidencemeta.queries,queryID:"driver_podiums",queryResult:l[0].driver_podiums}}),{c(){F(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,r){G(e,t,r),i=!0},p(t,r){const n={};r&1&&(n.pageQueries=t[0].evidencemeta.queries),r&1&&(n.queryResult=t[0].driver_podiums),e.$set(n)},i(t){i||(E(e.$$.fragment,t),i=!0)},o(t){M(e.$$.fragment,t),i=!1},d(t){L(e,t)}}}function Xe(l){let e,i;return e=new _e({props:{pageQueries:l[0].evidencemeta.queries,queryID:"driver_points",queryResult:l[0].driver_points}}),{c(){F(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,r){G(e,t,r),i=!0},p(t,r){const n={};r&1&&(n.pageQueries=t[0].evidencemeta.queries),r&1&&(n.queryResult=t[0].driver_points),e.$set(n)},i(t){i||(E(e.$$.fragment,t),i=!0)},o(t){M(e.$$.fragment,t),i=!1},d(t){L(e,t)}}}function Ht(l){var ne;let e,i,t,r,n,u,f,a,c,h,o,m,g,y,p,w,q,C,T,I,j,B,Z,X=typeof R<"u"&&(R.title||((ne=R.og)==null?void 0:ne.title))&&R.hide_title!==!0&&At();function fe(s,b){var ee;return typeof R<"u"&&(R.title||(ee=R.og)!=null&&ee.title)?Ot:Dt}let $=fe()(l),x=typeof R=="object"&&Pt(),V=l[0].drivers&&Fe(l);a=new Ae({props:{data:l[1].filter(l[7]),column:"name"}}),h=new bt({props:{data:l[1].filter(l[8]),$$slots:{default:[jt]},$$scope:{ctx:l}}}),m=new Te({props:{data:l[2].filter(l[9]),value:"wins"}}),y=new Te({props:{data:l[3].filter(l[10]),value:"podiums"}}),w=new Te({props:{data:l[4].filter(l[11]),value:"points"}});let H=l[0].results&&Ge(l),O=l[0].driver_cross_results&&Le(l),P=l[0].driver_wins&&ze(l),Q=l[0].driver_podiums&&Ke(l),N=l[0].driver_points&&Xe(l);return{c(){X&&X.c(),e=A(),$.c(),i=S("meta"),t=S("meta"),x&&x.c(),r=K(),n=A(),V&&V.c(),u=A(),f=S("h1"),F(a.$$.fragment),c=A(),F(h.$$.fragment),o=A(),F(m.$$.fragment),g=A(),F(y.$$.fragment),p=A(),F(w.$$.fragment),q=A(),H&&H.c(),C=A(),O&&O.c(),T=A(),P&&P.c(),I=A(),Q&&Q.c(),j=A(),N&&N.c(),B=K(),this.h()},l(s){X&&X.l(s),e=D(s);const b=mt("svelte-1j2izld",document.head);$.l(b),i=U(b,"META",{name:!0,content:!0}),t=U(b,"META",{name:!0,content:!0}),x&&x.l(b),r=K(),b.forEach(d),n=D(s),V&&V.l(s),u=D(s),f=U(s,"H1",{class:!0});var ee=J(f);z(a.$$.fragment,ee),ee.forEach(d),c=D(s),z(h.$$.fragment,s),o=D(s),z(m.$$.fragment,s),g=D(s),z(y.$$.fragment,s),p=D(s),z(w.$$.fragment,s),q=D(s),H&&H.l(s),C=D(s),O&&O.l(s),T=D(s),P&&P.l(s),I=D(s),Q&&Q.l(s),j=D(s),N&&N.l(s),B=K(),this.h()},h(){v(i,"name","twitter:card"),v(i,"content","summary"),v(t,"name","twitter:site"),v(t,"content","@evidence_dev"),v(f,"class","markdown")},m(s,b){X&&X.m(s,b),k(s,e,b),$.m(document.head,null),Y(document.head,i),Y(document.head,t),x&&x.m(document.head,null),Y(document.head,r),k(s,n,b),V&&V.m(s,b),k(s,u,b),k(s,f,b),G(a,f,null),k(s,c,b),G(h,s,b),k(s,o,b),G(m,s,b),k(s,g,b),G(y,s,b),k(s,p,b),G(w,s,b),k(s,q,b),H&&H.m(s,b),k(s,C,b),O&&O.m(s,b),k(s,T,b),P&&P.m(s,b),k(s,I,b),Q&&Q.m(s,b),k(s,j,b),N&&N.m(s,b),k(s,B,b),Z=!0},p(s,[b]){var be;typeof R<"u"&&(R.title||(be=R.og)!=null&&be.title)&&R.hide_title!==!0&&X.p(s,b),$.p(s,b),typeof R=="object"&&x.p(s,b),s[0].drivers?V?(V.p(s,b),b&1&&E(V,1)):(V=Fe(s),V.c(),E(V,1),V.m(u.parentNode,u)):V&&(te(),M(V,1,1,()=>{V=null}),ie());const ee={};b&34&&(ee.data=s[1].filter(s[7])),a.$set(ee);const ae={};b&34&&(ae.data=s[1].filter(s[8])),b&131072&&(ae.$$scope={dirty:b,ctx:s}),h.$set(ae);const le={};b&36&&(le.data=s[2].filter(s[9])),m.$set(le);const pe={};b&40&&(pe.data=s[3].filter(s[10])),y.$set(pe);const ce={};b&48&&(ce.data=s[4].filter(s[11])),w.$set(ce),s[0].results?H?(H.p(s,b),b&1&&E(H,1)):(H=Ge(s),H.c(),E(H,1),H.m(C.parentNode,C)):H&&(te(),M(H,1,1,()=>{H=null}),ie()),s[0].driver_cross_results?O?(O.p(s,b),b&1&&E(O,1)):(O=Le(s),O.c(),E(O,1),O.m(T.parentNode,T)):O&&(te(),M(O,1,1,()=>{O=null}),ie()),s[0].driver_wins?P?(P.p(s,b),b&1&&E(P,1)):(P=ze(s),P.c(),E(P,1),P.m(I.parentNode,I)):P&&(te(),M(P,1,1,()=>{P=null}),ie()),s[0].driver_podiums?Q?(Q.p(s,b),b&1&&E(Q,1)):(Q=Ke(s),Q.c(),E(Q,1),Q.m(j.parentNode,j)):Q&&(te(),M(Q,1,1,()=>{Q=null}),ie()),s[0].driver_points?N?(N.p(s,b),b&1&&E(N,1)):(N=Xe(s),N.c(),E(N,1),N.m(B.parentNode,B)):N&&(te(),M(N,1,1,()=>{N=null}),ie())},i(s){Z||(E(V),E(a.$$.fragment,s),E(h.$$.fragment,s),E(m.$$.fragment,s),E(y.$$.fragment,s),E(w.$$.fragment,s),E(H),E(O),E(P),E(Q),E(N),Z=!0)},o(s){M(V),M(a.$$.fragment,s),M(h.$$.fragment,s),M(m.$$.fragment,s),M(y.$$.fragment,s),M(w.$$.fragment,s),M(H),M(O),M(P),M(Q),M(N),Z=!1},d(s){X&&X.d(s),s&&d(e),$.d(s),d(i),d(t),x&&x.d(s),d(r),s&&d(n),V&&V.d(s),s&&d(u),s&&d(f),L(a),s&&d(c),L(h,s),s&&d(o),L(m,s),s&&d(g),L(y,s),s&&d(p),L(w,s),s&&d(q),H&&H.d(s),s&&d(C),O&&O.d(s),s&&d(T),P&&P.d(s),s&&d(I),Q&&Q.d(s),s&&d(j),N&&N.d(s),s&&d(B)}}}const R={sources:[{drivers:"f1/drivers.sql"}]};function Qt(l,e,i){let t,r;ye(l,Ve,I=>i(15,t=I)),ye(l,dt,I=>i(5,r=I));let{data:n}=e,{data:u={},customFormattingSettings:f}=n;de(Ve,t="d5b4ead150f4c4938fe85b5cf3fdad1d",t),_t(ht,{getCustomFormats:()=>f.customFormats||[]});const a=function(I){var B,Z;let j=(B=I.evidencemeta)==null?void 0:B.queries;if(j)for(let X=0;X<j.length;X++){let fe=I[j[X].id],se=(Z=I.evidencemeta)==null?void 0:Z.queries[X].columnTypes;for(let $=0;$<fe.length;$++)se&&Object.defineProperty(fe[$],"_evidenceColumnTypes",{enumerable:!1,value:se})}};ct(()=>{a(u)});let{drivers:c,results:h,driver_cross_results:o,driver_wins:m,driver_podiums:g,driver_points:y}=u;const p=I=>I.driverRef.toUpperCase()===r.params.driverRef.toUpperCase(),w=I=>I.driverRef.toUpperCase()===r.params.driverRef.toUpperCase(),q=I=>I.driverRef===r.params.driverRef,C=I=>I.driverRef===r.params.driverRef,T=I=>I.driverRef===r.params.driverRef;return l.$$set=I=>{"data"in I&&i(6,n=I.data)},l.$$.update=()=>{l.$$.dirty&64&&i(0,{data:u={},customFormattingSettings:f}=n,u),l.$$.dirty&1&&(Object.keys(u).length>0?Pe.set(!0):Pe.set(!1)),l.$$.dirty&1&&i(1,{drivers:c,results:h,driver_cross_results:o,driver_wins:m,driver_podiums:g,driver_points:y}=u,c,(i(2,m),i(0,u),i(6,n)),(i(3,g),i(0,u),i(6,n)),(i(4,y),i(0,u),i(6,n)))},[u,c,m,g,y,r,n,p,w,q,C,T]}class Jt extends Me{constructor(e){super(),Re(this,e,Qt,Ht,Ce,{data:6})}}export{Jt as default};
