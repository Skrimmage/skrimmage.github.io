import{S as se,i as ne,s as ae,a as H,e as O,b as S,G as L,c as U,h as oe,d as A,f as d,g as ie,H as W,k as E,m as T,n as R,I as Z,z as M,B as I,C as ue,J as x,p as z,q as me,r as K,u as _e,U as le,A as ce,o as Q,V as fe}from"./index.fa6138d3.js";import{p as he}from"./stores.f8c56ea6.js";import{s as de,Q as X,p as pe,r as Y,d as ye}from"./index.b3649c7a.js";import{w as be}from"./paths.57198352.js";import{I as ge,C as qe}from"./globalContexts.8bcf5d41.js";import{p as B}from"./profile.e7706513.js";import"./VennDiagram.svelte_svelte_type_style_lang.b02bbe42.js";import{Q as ke}from"./QueryViewer.685ec036.js";import{V as Ce}from"./Value.dd795fd5.js";function we(n){return{c(){this.h()},l(o){this.h()},h(){document.title="Evidence"},m:Q,p:Q,d:Q}}function J(n){let o,t;return o=new ke({props:{queryID:"nhl_teams",queryResult:n[2]}}),{c(){L(o.$$.fragment)},l(s){W(o.$$.fragment,s)},m(s,u){Z(o,s,u),t=!0},p(s,u){const m={};u&4&&(m.queryResult=s[2]),o.$set(m)},i(s){t||(M(o.$$.fragment,s),t=!0)},o(s){I(o.$$.fragment,s),t=!1},d(s){x(o,s)}}}function Ee(n){let o,t,s,u,m,l,_,p,c,y;function q(e,a){return we}let f=q()(n);_=new Ce({props:{data:n[2].filter(n[10]),column:"fullName"}});let r=n[2]&&J(n);return{c(){o=H(),f.c(),t=O("meta"),s=O("meta"),u=S(),m=H(),l=O("h1"),L(_.$$.fragment),p=H(),r&&r.c(),c=S(),this.h()},l(e){o=U(e);const a=oe("svelte-1j2izld",document.head);f.l(a),t=A(a,"META",{name:!0,content:!0}),s=A(a,"META",{name:!0,content:!0}),u=S(),a.forEach(d),m=U(e),l=A(e,"H1",{class:!0});var b=ie(l);W(_.$$.fragment,b),b.forEach(d),p=U(e),r&&r.l(e),c=S(),this.h()},h(){E(t,"name","twitter:card"),E(t,"content","summary"),E(s,"name","twitter:site"),E(s,"content","@evidence_dev"),E(l,"class","markdown")},m(e,a){T(e,o,a),f.m(document.head,null),R(document.head,t),R(document.head,s),R(document.head,u),T(e,m,a),T(e,l,a),Z(_,l,null),T(e,p,a),r&&r.m(e,a),T(e,c,a),y=!0},p(e,[a]){f.p(e,a);const b={};a&5&&(b.data=e[2].filter(e[10])),_.$set(b),e[2]?r?(r.p(e,a),a&4&&M(r,1)):(r=J(e),r.c(),M(r,1),r.m(c.parentNode,c)):r&&(ce(),I(r,1,1,()=>{r=null}),ue())},i(e){y||(M(_.$$.fragment,e),M(r),y=!0)},o(e){I(_.$$.fragment,e),I(r),y=!1},d(e){e&&d(o),f.d(e),d(t),d(s),d(u),e&&d(m),e&&d(l),x(_),e&&d(p),r&&r.d(e),e&&d(c)}}}function Te(n,...o){return!!o.some(t=>t==null?void 0:t.__unset)}function Me(n,o,t){var G,P;let s,u,m,l,_,p,c=Q,y=()=>(c(),c=fe(k,i=>t(9,p=i)),k),q,F;z(n,he,i=>t(0,q=i)),z(n,Y,i=>t(18,F=i)),n.$$.on_destroy.push(()=>c());let{data:f}=o,{data:r={},customFormattingSettings:e,__db:a,inputs:b}=f;me(Y,F="79fada6297f983b1467ce9eda572be03",F);let V=be(b);K(ge,V),_e(V.subscribe(i=>b=i)),K(qe,{getCustomFormats:()=>e.customFormats||[]});const j=(i,h)=>B(a.query,i,{query_name:h});de(j);const $=()=>{};let D=!1;(G=import.meta)!=null&&G.hot&&(void 0).on("vite:afterUpdate",()=>{D=!0,X.emptyCache()}),q.params,(P=import.meta)!=null&&P.hot&&(void 0).on("evidence:queryChange",({queryId:i,content:h})=>{let g=[];if(i||g.push("Malformed event: Missing queryId"),h||g.push("Malformed event: Missing content"),g.length){console.warn("Failed to update query on serverside change!",g.join(`
`));return}i==="nhl_teams"&&t(7,s=h)});let C;le(()=>t(5,C=s));let k;const ee=()=>{const i=()=>{let h,g;try{if(l||D)h=void 0,g=void 0;else if(r.nhl_teams){if(r.nhl_teams instanceof Error)throw r.nhl_teams;h=r.nhl_teams}else h=B(a.query,s,{query_name:"nhl_teams"})}catch(re){h=[],g=re}const w=X.create(s,j,"nhl_teams",{scoreNotifier:$,initialData:h,initialError:g,noResolve:u});let v;w.loaded||(v=w.fetch()),k&&v instanceof Promise?v.then(()=>y(t(1,k=w))):y(t(1,k=w))};return i(),ye(i,500)};let N;const te=i=>i.triCode===q.params.triCode;return n.$$set=i=>{"data"in i&&t(3,f=i.data)},n.$$.update=()=>{n.$$.dirty&8&&t(4,{data:r={},customFormattingSettings:e,__db:a}=f,r),n.$$.dirty&16&&pe.set(Object.keys(r).length>0),n.$$.dirty&1&&q.params,n.$$.dirty&160&&(C||t(5,C=s)),n.$$.dirty&128&&t(8,m=s),n.$$.dirty&288&&(l=m!==C),n.$$.dirty&192&&typeof N>"u"&&t(6,N=ee()),n.$$.dirty&192&&N(),n.$$.dirty&80,n.$$.dirty&512&&t(2,_=p)},t(7,s=`select *,
'./' || triCode as team_link
from nhl.nhl_teams`),u=Te`select *,
'./' || triCode as team_link
from nhl.nhl_teams`,[q,k,_,f,r,C,N,s,m,p,te]}class Ae extends se{constructor(o){super(),ne(this,o,Me,Ee,ae,{data:3})}}export{Ae as default};
