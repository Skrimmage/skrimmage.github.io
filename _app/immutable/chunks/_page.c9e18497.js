import{S as ot,i as ct,s as lt,a as g,e as C,b as B,G as F,c as w,h as mt,d as M,f as a,g as ft,H as v,k as b,m as _,n as Y,I,z as T,B as h,C as at,J as N,p as tt,q as pt,r as et,u as _t,U as $t,t as dt,j as yt,o as j,A as bt,V as kt}from"./index.fa6138d3.js";import{p as gt}from"./stores.3a738c23.js";import{s as wt,Q as it,p as Tt,r as rt,d as Et}from"./index.ef6bff11.js";import{w as qt}from"./paths.42a92a49.js";import{I as ht,C as Ct}from"./globalContexts.8bcf5d41.js";import{p as st}from"./profile.e7706513.js";import{L as Mt,a as Z}from"./Links.2082c8b1.js";import"./VennDiagram.svelte_svelte_type_style_lang.0b9fed98.js";import{D as Rt}from"./DataTable.6ede5abb.js";import{Q as At}from"./QueryViewer.dc43bc73.js";import{V as Ft}from"./Value.bc53ad72.js";import{C as X}from"./Column.3adc8019.js";function vt(l){var n;let r,s=(m.title??((n=m.og)==null?void 0:n.title))+"",e;return{c(){r=C("h1"),e=dt(s),this.h()},l(f){r=M(f,"H1",{class:!0});var u=ft(r);e=yt(u,s),u.forEach(a),this.h()},h(){b(r,"class","title")},m(f,u){_(f,r,u),Y(r,e)},p:j,d(f){f&&a(r)}}}function It(l){return{c(){this.h()},l(r){this.h()},h(){document.title="Evidence"},m:j,p:j,d:j}}function Nt(l){var u;let r,s,e,n,f;return document.title=r=m.title??((u=m.og)==null?void 0:u.title),{c(){s=g(),e=C("meta"),n=g(),f=C("meta"),this.h()},l(t){s=w(t),e=M(t,"META",{property:!0,content:!0}),n=w(t),f=M(t,"META",{name:!0,content:!0}),this.h()},h(){var t,c;b(e,"property","og:title"),b(e,"content",((t=m.og)==null?void 0:t.title)??m.title),b(f,"name","twitter:title"),b(f,"content",((c=m.og)==null?void 0:c.title)??m.title)},m(t,c){_(t,s,c),_(t,e,c),_(t,n,c),_(t,f,c)},p(t,c){var o;c&0&&r!==(r=m.title??((o=m.og)==null?void 0:o.title))&&(document.title=r)},d(t){t&&a(s),t&&a(e),t&&a(n),t&&a(f)}}}function Ut(l){var f,u;let r,s,e=(m.description||((f=m.og)==null?void 0:f.description))&&St(),n=((u=m.og)==null?void 0:u.image)&&Ht();return{c(){e&&e.c(),r=g(),n&&n.c(),s=B()},l(t){e&&e.l(t),r=w(t),n&&n.l(t),s=B()},m(t,c){e&&e.m(t,c),_(t,r,c),n&&n.m(t,c),_(t,s,c)},p(t,c){var o,$;(m.description||(o=m.og)!=null&&o.description)&&e.p(t,c),($=m.og)!=null&&$.image&&n.p(t,c)},d(t){e&&e.d(t),t&&a(r),n&&n.d(t),t&&a(s)}}}function St(l){let r,s,e,n,f;return{c(){r=C("meta"),s=g(),e=C("meta"),n=g(),f=C("meta"),this.h()},l(u){r=M(u,"META",{name:!0,content:!0}),s=w(u),e=M(u,"META",{property:!0,content:!0}),n=w(u),f=M(u,"META",{name:!0,content:!0}),this.h()},h(){var u,t,c;b(r,"name","description"),b(r,"content",m.description??((u=m.og)==null?void 0:u.description)),b(e,"property","og:description"),b(e,"content",((t=m.og)==null?void 0:t.description)??m.description),b(f,"name","twitter:description"),b(f,"content",((c=m.og)==null?void 0:c.description)??m.description)},m(u,t){_(u,r,t),_(u,s,t),_(u,e,t),_(u,n,t),_(u,f,t)},p:j,d(u){u&&a(r),u&&a(s),u&&a(e),u&&a(n),u&&a(f)}}}function Ht(l){let r,s,e;return{c(){r=C("meta"),s=g(),e=C("meta"),this.h()},l(n){r=M(n,"META",{property:!0,content:!0}),s=w(n),e=M(n,"META",{name:!0,content:!0}),this.h()},h(){var n,f;b(r,"property","og:image"),b(r,"content",(n=m.og)==null?void 0:n.image),b(e,"name","twitter:image"),b(e,"content",(f=m.og)==null?void 0:f.image)},m(n,f){_(n,r,f),_(n,s,f),_(n,e,f)},p:j,d(n){n&&a(r),n&&a(s),n&&a(e)}}}function nt(l){let r,s;return r=new At({props:{queryID:"circuits",queryResult:l[2]}}),{c(){F(r.$$.fragment)},l(e){v(r.$$.fragment,e)},m(e,n){I(r,e,n),s=!0},p(e,n){const f={};n&4&&(f.queryResult=e[2]),r.$set(f)},i(e){s||(T(r.$$.fragment,e),s=!0)},o(e){h(r.$$.fragment,e),s=!1},d(e){N(r,e)}}}function jt(l){let r,s,e,n,f,u,t,c;return r=new X({props:{id:"name",title:"Name"}}),e=new X({props:{id:"location",title:"Location"}}),f=new X({props:{id:"country",title:"Country"}}),t=new X({props:{id:"url",title:"Wikipedia",contentType:"link",openInNewTab:"true"}}),{c(){F(r.$$.fragment),s=g(),F(e.$$.fragment),n=g(),F(f.$$.fragment),u=g(),F(t.$$.fragment)},l(o){v(r.$$.fragment,o),s=w(o),v(e.$$.fragment,o),n=w(o),v(f.$$.fragment,o),u=w(o),v(t.$$.fragment,o)},m(o,$){I(r,o,$),_(o,s,$),I(e,o,$),_(o,n,$),I(f,o,$),_(o,u,$),I(t,o,$),c=!0},p:j,i(o){c||(T(r.$$.fragment,o),T(e.$$.fragment,o),T(f.$$.fragment,o),T(t.$$.fragment,o),c=!0)},o(o){h(r.$$.fragment,o),h(e.$$.fragment,o),h(f.$$.fragment,o),h(t.$$.fragment,o),c=!1},d(o){N(r,o),o&&a(s),N(e,o),o&&a(n),N(f,o),o&&a(u),N(t,o)}}}function Dt(l){let r,s,e,n,f,u;return r=new Z({props:{dest:"/sports/F1/drivers/",text:"Drivers"}}),e=new Z({props:{dest:"/sports/F1/races/",text:"Races"}}),f=new Z({props:{dest:"/sports/F1/circuits/",text:"Circuits"}}),{c(){F(r.$$.fragment),s=g(),F(e.$$.fragment),n=g(),F(f.$$.fragment)},l(t){v(r.$$.fragment,t),s=w(t),v(e.$$.fragment,t),n=w(t),v(f.$$.fragment,t)},m(t,c){I(r,t,c),_(t,s,c),I(e,t,c),_(t,n,c),I(f,t,c),u=!0},p:j,i(t){u||(T(r.$$.fragment,t),T(e.$$.fragment,t),T(f.$$.fragment,t),u=!0)},o(t){h(r.$$.fragment,t),h(e.$$.fragment,t),h(f.$$.fragment,t),u=!1},d(t){N(r,t),t&&a(s),N(e,t),t&&a(n),N(f,t)}}}function Qt(l){var Q;let r,s,e,n,f,u,t,c,o,$,R,S,H,k,L,E=typeof m<"u"&&(m.title||((Q=m.og)==null?void 0:Q.title))&&m.hide_title!==!0&&vt();function z(i,p){var q;return typeof m<"u"&&(m.title||(q=m.og)!=null&&q.title)?Nt:It}let D=z()(l),A=typeof m=="object"&&Ut(),d=l[2]&&nt(l);return c=new Ft({props:{data:l[2].filter(l[10]),column:"name"}}),$=new Rt({props:{data:l[2].filter(l[11]),$$slots:{default:[jt]},$$scope:{ctx:l}}}),k=new Mt({props:{$$slots:{default:[Dt]},$$scope:{ctx:l}}}),{c(){E&&E.c(),r=g(),D.c(),s=C("meta"),e=C("meta"),A&&A.c(),n=B(),f=g(),d&&d.c(),u=g(),t=C("h1"),F(c.$$.fragment),o=g(),F($.$$.fragment),R=g(),S=C("hr"),H=g(),F(k.$$.fragment),this.h()},l(i){E&&E.l(i),r=w(i);const p=mt("svelte-1j2izld",document.head);D.l(p),s=M(p,"META",{name:!0,content:!0}),e=M(p,"META",{name:!0,content:!0}),A&&A.l(p),n=B(),p.forEach(a),f=w(i),d&&d.l(i),u=w(i),t=M(i,"H1",{class:!0});var q=ft(t);v(c.$$.fragment,q),q.forEach(a),o=w(i),v($.$$.fragment,i),R=w(i),S=M(i,"HR",{class:!0}),H=w(i),v(k.$$.fragment,i),this.h()},h(){b(s,"name","twitter:card"),b(s,"content","summary"),b(e,"name","twitter:site"),b(e,"content","@evidence_dev"),b(t,"class","markdown"),b(S,"class","markdown")},m(i,p){E&&E.m(i,p),_(i,r,p),D.m(document.head,null),Y(document.head,s),Y(document.head,e),A&&A.m(document.head,null),Y(document.head,n),_(i,f,p),d&&d.m(i,p),_(i,u,p),_(i,t,p),I(c,t,null),_(i,o,p),I($,i,p),_(i,R,p),_(i,S,p),_(i,H,p),I(k,i,p),L=!0},p(i,[p]){var G;typeof m<"u"&&(m.title||(G=m.og)!=null&&G.title)&&m.hide_title!==!0&&E.p(i,p),D.p(i,p),typeof m=="object"&&A.p(i,p),i[2]?d?(d.p(i,p),p&4&&T(d,1)):(d=nt(i),d.c(),T(d,1),d.m(u.parentNode,u)):d&&(bt(),h(d,1,1,()=>{d=null}),at());const q={};p&5&&(q.data=i[2].filter(i[10])),c.$set(q);const V={};p&5&&(V.data=i[2].filter(i[11])),p&16777216&&(V.$$scope={dirty:p,ctx:i}),$.$set(V);const K={};p&16777216&&(K.$$scope={dirty:p,ctx:i}),k.$set(K)},i(i){L||(T(d),T(c.$$.fragment,i),T($.$$.fragment,i),T(k.$$.fragment,i),L=!0)},o(i){h(d),h(c.$$.fragment,i),h($.$$.fragment,i),h(k.$$.fragment,i),L=!1},d(i){E&&E.d(i),i&&a(r),D.d(i),a(s),a(e),A&&A.d(i),a(n),i&&a(f),d&&d.d(i),i&&a(u),i&&a(t),N(c),i&&a(o),N($,i),i&&a(R),i&&a(S),i&&a(H),N(k,i)}}}const m={queries:[{circuits:"all_circuits.sql"}]};function Ot(l,...r){return!!r.some(s=>s==null?void 0:s.__unset)}function Lt(l,r,s){var G,x;let e,n,f,u,t,c,o=j,$=()=>(o(),o=kt(i,y=>s(9,c=y)),i),R,S;tt(l,gt,y=>s(0,R=y)),tt(l,rt,y=>s(19,S=y)),l.$$.on_destroy.push(()=>o());let{data:H}=r,{data:k={},customFormattingSettings:L,__db:E,inputs:z}=H;pt(rt,S="5185e0f518fc0d666f02a200ba95960c",S);let J=qt(z);et(ht,J),_t(J.subscribe(y=>z=y)),et(Ct,{getCustomFormats:()=>L.customFormats||[]});const D=(y,U)=>st(E.query,y,{query_name:U});wt(D);const A=()=>{};let d=!1;(G=import.meta)!=null&&G.hot&&(void 0).on("vite:afterUpdate",()=>{d=!0,it.emptyCache()}),R.params,(x=import.meta)!=null&&x.hot&&(void 0).on("evidence:queryChange",({queryId:y,content:U})=>{let O=[];if(y||O.push("Malformed event: Missing queryId"),U||O.push("Malformed event: Missing content"),O.length){console.warn("Failed to update query on serverside change!",O.join(`
`));return}y==="circuits"&&s(7,e=U)});let Q;$t(()=>s(5,Q=e));let i;const p=()=>{const y=()=>{let U,O;try{if(u||d)U=void 0,O=void 0;else if(k.circuits){if(k.circuits instanceof Error)throw k.circuits;U=k.circuits}else U=st(E.query,e,{query_name:"circuits"})}catch(ut){U=[],O=ut}const P=it.create(e,D,"circuits",{scoreNotifier:A,initialData:U,initialError:O,noResolve:n});let W;P.loaded||(W=P.fetch()),i&&W instanceof Promise?W.then(()=>$(s(1,i=P))):$(s(1,i=P))};return y(),Et(y,500)};let q;const V=y=>y.circuitRef.toUpperCase()===R.params.circuitRef.toUpperCase(),K=y=>y.circuitRef.toUpperCase()===R.params.circuitRef.toUpperCase();return l.$$set=y=>{"data"in y&&s(3,H=y.data)},l.$$.update=()=>{l.$$.dirty&8&&s(4,{data:k={},customFormattingSettings:L,__db:E}=H,k),l.$$.dirty&16&&Tt.set(Object.keys(k).length>0),l.$$.dirty&1&&R.params,l.$$.dirty&160&&(Q||s(5,Q=e)),l.$$.dirty&128&&s(8,f=e),l.$$.dirty&288&&(u=f!==Q),l.$$.dirty&192&&typeof q>"u"&&s(6,q=p()),l.$$.dirty&192&&q(),l.$$.dirty&80,l.$$.dirty&512&&s(2,t=c)},s(7,e=`select 
    circuitId,
    circuitRef,
    name,
    location,
    country,
    lat,
    lng,
    alt,
    url,
    './' || circuitRef as circuit_link
from f1.circuits;`),n=Ot`select 
    circuitId,
    circuitRef,
    name,
    location,
    country,
    lat,
    lng,
    alt,
    url,
    './' || circuitRef as circuit_link
from f1.circuits;`,[R,i,t,H,k,Q,q,e,f,c,V,K]}class te extends ot{constructor(r){super(),ct(this,r,Lt,Qt,lt,{data:3})}}export{te as default};
