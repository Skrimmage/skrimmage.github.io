import{S as D,i as G,s as K,d as h,e as j,f as L,K as q,j as w,k as U,l as H,m as c,n as X,L as E,p as T,r as d,v as N,M as C,t as y,b as v,N as Y,O as F,x as I,y as B,z as J,A as W,w as M,P as Z}from"./index.bcaf0f15.js";import{p as x}from"./stores.0f28d886.js";import{p as P,r as V}from"./inferColumnTypes.d2dd53a4.js";import{C as ee}from"./globalContexts.09a53420.js";import{L as te,a as R}from"./Links.367dcc85.js";import"./ecStat.664e63fa.js";import"./paths.f227965e.js";import{Q as re}from"./QueryViewer.5bd94e15.js";import{V as se}from"./Value.1b0b95b7.js";function ae(u){return{c(){this.h()},l(s){this.h()},h(){document.title="Evidence"},m:M,p:M,d:M}}function z(u){let s,n;return s=new re({props:{pageQueries:u[0].evidencemeta.queries,queryID:"races",queryResult:u[0].races}}),{c(){q(s.$$.fragment)},l(r){E(s.$$.fragment,r)},m(r,f){C(s,r,f),n=!0},p(r,f){const m={};f&1&&(m.pageQueries=r[0].evidencemeta.queries),f&1&&(m.queryResult=r[0].races),s.$set(m)},i(r){n||(y(s.$$.fragment,r),n=!0)},o(r){v(s.$$.fragment,r),n=!1},d(r){F(s,r)}}}function ne(u){let s,n,r,f,m,o;return s=new R({props:{dest:"/sports/F1/drivers/",text:"Drivers"}}),r=new R({props:{dest:"/sports/F1/races/",text:"Races"}}),m=new R({props:{dest:"/sports/F1/circuits/",text:"Circuits"}}),{c(){q(s.$$.fragment),n=h(),q(r.$$.fragment),f=h(),q(m.$$.fragment)},l(t){E(s.$$.fragment,t),n=w(t),E(r.$$.fragment,t),f=w(t),E(m.$$.fragment,t)},m(t,p){C(s,t,p),d(t,n,p),C(r,t,p),d(t,f,p),C(m,t,p),o=!0},p:M,i(t){o||(y(s.$$.fragment,t),y(r.$$.fragment,t),y(m.$$.fragment,t),o=!0)},o(t){v(s.$$.fragment,t),v(r.$$.fragment,t),v(m.$$.fragment,t),o=!1},d(t){F(s,t),t&&c(n),F(r,t),t&&c(f),F(m,t)}}}function ie(u){let s,n,r,f,m,o,t,p,$,b,l,_,g;function S(e,i){return ae}let k=S()(u);t=new se({props:{data:u[1].filter(u[4]),column:"name_year"}});let a=u[0].races&&z(u);return _=new te({props:{$$slots:{default:[ne]},$$scope:{ctx:u}}}),{c(){s=h(),k.c(),n=j("meta"),r=j("meta"),f=L(),m=h(),o=j("h1"),q(t.$$.fragment),p=h(),a&&a.c(),$=h(),b=j("hr"),l=h(),q(_.$$.fragment),this.h()},l(e){s=w(e);const i=U("svelte-1j2izld",document.head);k.l(i),n=H(i,"META",{name:!0,content:!0}),r=H(i,"META",{name:!0,content:!0}),f=L(),i.forEach(c),m=w(e),o=H(e,"H1",{class:!0});var Q=X(o);E(t.$$.fragment,Q),Q.forEach(c),p=w(e),a&&a.l(e),$=w(e),b=H(e,"HR",{class:!0}),l=w(e),E(_.$$.fragment,e),this.h()},h(){T(n,"name","twitter:card"),T(n,"content","summary"),T(r,"name","twitter:site"),T(r,"content","@evidence_dev"),T(o,"class","markdown"),T(b,"class","markdown")},m(e,i){d(e,s,i),k.m(document.head,null),N(document.head,n),N(document.head,r),N(document.head,f),d(e,m,i),d(e,o,i),C(t,o,null),d(e,p,i),a&&a.m(e,i),d(e,$,i),d(e,b,i),d(e,l,i),C(_,e,i),g=!0},p(e,[i]){k.p(e,i);const Q={};i&6&&(Q.data=e[1].filter(e[4])),t.$set(Q),e[0].races?a?(a.p(e,i),i&1&&y(a,1)):(a=z(e),a.c(),y(a,1),a.m($.parentNode,$)):a&&(Z(),v(a,1,1,()=>{a=null}),Y());const A={};i&256&&(A.$$scope={dirty:i,ctx:e}),_.$set(A)},i(e){g||(y(t.$$.fragment,e),y(a),y(_.$$.fragment,e),g=!0)},o(e){v(t.$$.fragment,e),v(a),v(_.$$.fragment,e),g=!1},d(e){e&&c(s),k.d(e),c(n),c(r),c(f),e&&c(m),e&&c(o),F(t),e&&c(p),a&&a.d(e),e&&c($),e&&c(b),e&&c(l),F(_,e)}}}function me(u,s,n){let r,f;I(u,V,l=>n(6,r=l)),I(u,x,l=>n(2,f=l));let{data:m}=s,{data:o={},customFormattingSettings:t}=m;B(V,r="d200decf47a51d92b634382dd2afac62",r),J(ee,{getCustomFormats:()=>t.customFormats||[]});const p=function(l){var g,S;let _=(g=l.evidencemeta)==null?void 0:g.queries;if(_)for(let O=0;O<_.length;O++){let k=l[_[O].id],a=(S=l.evidencemeta)==null?void 0:S.queries[O].columnTypes;for(let e=0;e<k.length;e++)a&&Object.defineProperty(k[e],"_evidenceColumnTypes",{enumerable:!1,value:a})}};W(()=>{p(o)});let{races:$}=o;const b=l=>l.year_race_name===f.params.year_race_name;return u.$$set=l=>{"data"in l&&n(3,m=l.data)},u.$$.update=()=>{u.$$.dirty&8&&n(0,{data:o={},customFormattingSettings:t}=m,o),u.$$.dirty&1&&(Object.keys(o).length>0?P.set(!0):P.set(!1)),u.$$.dirty&1&&n(1,{races:$}=o,$)},[o,$,f,m,b]}class ye extends D{constructor(s){super(),G(this,s,me,ie,K,{data:3})}}export{ye as default};
