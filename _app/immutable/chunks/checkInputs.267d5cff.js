import{S as A,i as N,s as V,e as p,t as z,a as B,d as g,g as b,j as F,f as u,c as G,k,m as Q,n as h,o as S,X as H,aa as J,b as D,A as M,B as _,C as O,z as d,u as P,v as y,D as v,E,F as w,G as X,H as q,I as K,J as R}from"./index.fa6138d3.js";import{f as T}from"./index.a5cc338a.js";import{Q as U}from"./index.bca1a4ed.js";function W(o){let t,n,r,e,s,a;return{c(){t=p("div"),n=p("span"),r=z("Loading..."),e=B(),s=p("div"),this.h()},l(i){t=g(i,"DIV",{class:!0});var l=b(t);n=g(l,"SPAN",{class:!0});var c=b(n);r=F(c,"Loading..."),c.forEach(u),e=G(l),s=g(l,"DIV",{class:!0}),b(s).forEach(u),l.forEach(u),this.h()},h(){k(n,"class","sr-only"),k(s,"class","h-full w-full bg-gray-200 rounded-md dark:bg-gray-400"),k(t,"class","animate-pulse h-full w-full my-2")},m(i,l){Q(i,t,l),h(t,n),h(n,r),h(t,e),h(t,s)},p:S,i(i){i&&(a||H(()=>{a=J(t,T,{}),a.start()}))},o:S,d(i){i&&u(t)}}}class Y extends A{constructor(t){super(),N(this,t,null,W,V,{})}}const Z=o=>({loaded:o&2}),j=o=>({loaded:o[1]}),C=o=>({loaded:o&1}),I=o=>({loaded:o[0]}),x=o=>({loaded:o&1}),$=o=>({loaded:o[0]}),ee=o=>({loaded:o&1}),L=o=>({loaded:o[0]});function te(o){let t;const n=o[4].default,r=y(n,o,o[3],j);return{c(){r&&r.c()},l(e){r&&r.l(e)},m(e,s){r&&r.m(e,s),t=!0},p(e,s){r&&r.p&&(!t||s&10)&&v(r,n,e,e[3],t?w(n,e[3],s,Z):E(e[3]),j)},i(e){t||(d(r,e),t=!0)},o(e){_(r,e),t=!1},d(e){r&&r.d(e)}}}function re(o){let t;const n=o[4].error,r=y(n,o,o[3],I);return{c(){r&&r.c()},l(e){r&&r.l(e)},m(e,s){r&&r.m(e,s),t=!0},p(e,s){r&&r.p&&(!t||s&9)&&v(r,n,e,e[3],t?w(n,e[3],s,C):E(e[3]),I)},i(e){t||(d(r,e),t=!0)},o(e){_(r,e),t=!1},d(e){r&&r.d(e)}}}function oe(o){let t;const n=o[4].skeleton,r=y(n,o,o[3],$),e=r||ne();return{c(){e&&e.c()},l(s){e&&e.l(s)},m(s,a){e&&e.m(s,a),t=!0},p(s,a){r&&r.p&&(!t||a&9)&&v(r,n,s,s[3],t?w(n,s[3],a,x):E(s[3]),$)},i(s){t||(d(e,s),t=!0)},o(s){_(e,s),t=!1},d(s){e&&e.d(s)}}}function se(o){let t;const n=o[4].default,r=y(n,o,o[3],L);return{c(){r&&r.c()},l(e){r&&r.l(e)},m(e,s){r&&r.m(e,s),t=!0},p(e,s){r&&r.p&&(!t||s&9)&&v(r,n,e,e[3],t?w(n,e[3],s,ee):E(e[3]),L)},i(e){t||(d(r,e),t=!0)},o(e){_(r,e),t=!1},d(e){r&&r.d(e)}}}function ne(o){let t,n,r;return n=new Y({}),{c(){t=p("div"),X(n.$$.fragment),this.h()},l(e){t=g(e,"DIV",{class:!0});var s=b(t);q(n.$$.fragment,s),s.forEach(u),this.h()},h(){k(t,"class","w-full h-64")},m(e,s){Q(e,t,s),K(n,t,null),r=!0},p:S,i(e){r||(d(n.$$.fragment,e),r=!0)},o(e){_(n.$$.fragment,e),r=!1},d(e){e&&u(t),R(n)}}}function le(o){let t,n,r,e;const s=[se,oe,re,te],a=[];function i(l,c){var f,m;return!l[0]||!((f=l[0])!=null&&f.__isQueryStore)?0:!l[1]||!((m=l[1])!=null&&m.loaded)&&!l[1].error?1:l[1].error?2:3}return t=i(o),n=a[t]=s[t](o),{c(){n.c(),r=D()},l(l){n.l(l),r=D()},m(l,c){a[t].m(l,c),Q(l,r,c),e=!0},p(l,[c]){let f=t;t=i(l),t===f?a[t].p(l,c):(M(),_(a[f],1,1,()=>{a[f]=null}),O(),n=a[t],n?n.p(l,c):(n=a[t]=s[t](l),n.c()),d(n,1),n.m(r.parentNode,r))},i(l){e||(d(n),e=!0)},o(l){_(n),e=!1},d(l){a[t].d(l),l&&u(r)}}}function ae(o,t,n){let{$$slots:r={},$$scope:e}=t,{data:s}=t,a=()=>{},i;return P(a),o.$$set=l=>{"data"in l&&n(0,s=l.data),"$$scope"in l&&n(3,e=l.$$scope)},o.$$.update=()=>{o.$$.dirty&5&&s!=null&&s.__isQueryStore&&(s.fetch(),a(),n(2,a=s.subscribe(l=>{n(1,i=l)})))},[s,i,a,e,r]}class ue extends A{constructor(t){super(),N(this,t,ae,le,V,{data:0})}}function _e(o,t,n){var s,a,i,l,c;let r=[];if(o===void 0)throw Error("No dataset provided");if(typeof o!="object")throw Error("'"+o+"' is not a recognized query result. Data should be provided in the format: data = {"+o.replace("data.","")+"}");if(o[0]===void 0||o.length===0)throw Error("Dataset is empty: query ran successfully, but no data was returned from the database");if(((a=(s=o[0])==null?void 0:s.error_object)==null?void 0:a.error)!=null)throw Error("SQL Error: "+((c=(l=(i=o[0])==null?void 0:i.error_object)==null?void 0:l.error)==null?void 0:c.message));if(t!=null){if(!(t instanceof Array))throw Error("reqCols must be passed in as an array");for(var e=0;e<t.length;e++)if(t[e]==null)throw Error("Missing required columns");if(o.__isQueryStore||o instanceof U)for(const m of o.columns)r.push(m.name);else for(const m of Object.keys(o[0]))r.push(m);let f;for(e=0;e<t.length;e++)if(f=t[e],!r.includes(f))throw Error("'"+f+"' is not a column in the dataset");if(n!=null&&n[0]!=null){for(e=0;e<n.length;e++)if(f=n[e],!r.includes(f))throw Error("'"+f+"' is not a column in the dataset")}}}export{ue as Q,_e as c};
